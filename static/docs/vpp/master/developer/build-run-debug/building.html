<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Building VPP &mdash; The Vector Packet Processor v22.02-rc0-128-g4450b03ba
 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/rules.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Running VPP" href="running_vpp.html" />
    <link rel="prev" title="Build, Run &amp; Debug" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> The Vector Packet Processor
            <img src="../../_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v22.02-rc0-128-g4450b03ba

              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About VPP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/scalar-vs-vector-packet-processing.html">Scalar vs Vector packet processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/extensible.html">The Packet Processing Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/networkstack.html">Network Stack Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/hoststack.html">Host Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/developer.html">Additional features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/supported.html">Supported archs and OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/releasenotes/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../aboutvpp/featurelist.html">VPP Supported Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/containers/index.html">VPP with Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/simpleperf/index.html">VPP with Iperf3 and TRex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/vppcloud/index.html">VPP in the Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/vhost/index.html">VPP with Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/vmxnet3.html">VPP with VMware/Vmxnet3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/home_gateway.html">VPP as a Home Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/acls.html">Access Control Lists with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/networksim.html">Generating traffic with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/webapp.html">Web applications with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/container_test.html">Simulating networks with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/trafficgen.html">Stateless Traffic Gen with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/ikev2/index.html">IKEv2 with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/contiv/index.html">VPP in kubernetes (Contiv/Deprecated)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/installing/index.html">Downloading and Installing VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/running/index.html">Running VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/progressivevpp/index.html">Progressive VPP Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gettingstarted/troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Build, Run &amp; Debug</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building VPP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-up-proxies">Set up Proxies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-the-vpp-sources">Get the VPP Sources</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-vpp-dependencies">Build VPP Dependencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-vpp-debug">Build VPP (Debug)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-vpp-release-version">Build VPP (Release Version)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#building-necessary-packages">Building Necessary Packages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#building-debian-packages">Building Debian Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#building-rpm-packages">Building RPM Packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="running_vpp.html">Running VPP</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing_vpp.html">Testing VPP</a></li>
<li class="toctree-l2"><a class="reference internal" href="gdb_examples.html">GDB Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="cross_compile_macos.html">Cross compilation on MacOS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../corearchitecture/index.html">Core Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../corefeatures/index.html">Core Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugindoc/index.html">Adding a new plugin or feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicedrivers/index.html">Device drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/overview.html">VPP Test Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extras/index.html">VPP extra tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interfacing with VPP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../interfacing/binapi/index.html">The binary API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interfacing/c/index.html">C api client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interfacing/cpp/index.html">C++ api client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interfacing/go/index.html">Go api (govpp)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interfacing/rust/index.html">Rust api client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../interfacing/libmemif/index.html">Memif library (libmemif)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/gitreview.html">Getting a Patch Reviewed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/writingdocs.html">Writing VPP Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/reportingissues/index.html">Reporting Bugs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Debug CLI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../cli-reference/gettingstarted/index.html">Getting Started with the debug CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli-reference/interface/index.html">Interface Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cli-reference/index.html">Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration file</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/config_getting_started.html">Getting started with the configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/reference.html">Configuration Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">The Vector Packet Processor</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Build, Run &amp; Debug</a> &raquo;</li>
      <li>Building VPP</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/developer/build-run-debug/building.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="toctree-wrapper compound" id="building">
</div>
<section id="building-vpp">
<h1>Building VPP<a class="headerlink" href="#building-vpp" title="Permalink to this headline"></a></h1>
<p>To get started developing with VPP, you need to get the required VPP sources and then build the packages.
For more detailed information on the build system please refer to <a class="reference internal" href="../corearchitecture/buildsystem/index.html#buildsystem"><span class="std std-ref">Build System</span></a>.</p>
<section id="set-up-proxies">
<span id="setupproxies"></span><h2>Set up Proxies<a class="headerlink" href="#set-up-proxies" title="Permalink to this headline"></a></h2>
<p>Depending on the environment you are operating in, proxies may need to be set.
Run these proxy commands to specify the <em>proxy-server-name</em> and corresponding <em>port-number</em>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">export</span> <span class="nv">http_proxy</span><span class="o">=</span>http://&lt;proxy-server-name&gt;.com:&lt;port-number&gt;
<span class="gp">$ </span><span class="nb">export</span> <span class="nv">https_proxy</span><span class="o">=</span>https://&lt;proxy-server-name&gt;.com:&lt;port-number&gt;
</pre></div>
</div>
</section>
<section id="get-the-vpp-sources">
<h2>Get the VPP Sources<a class="headerlink" href="#get-the-vpp-sources" title="Permalink to this headline"></a></h2>
<p>To get the VPP sources that are used to create the build, run the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>git clone https://gerrit.fd.io/r/vpp
<span class="gp">$ </span><span class="nb">cd</span> vpp
</pre></div>
</div>
</section>
<section id="build-vpp-dependencies">
<h2>Build VPP Dependencies<a class="headerlink" href="#build-vpp-dependencies" title="Permalink to this headline"></a></h2>
<p>Before building a VPP image, make sure there are no FD.io VPP or DPDK packages
installed, by entering the following commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>dpkg -l <span class="p">|</span> grep vpp
<span class="gp">$ </span>dpkg -l <span class="p">|</span> grep DPDK
</pre></div>
</div>
<p>There should be no output, or no packages shown after the above commands are run.</p>
<p>Run the following <strong>make</strong> command to install the dependencies for FD.io VPP.</p>
<p>If the download hangs at any point, then you may need to
<a class="reference internal" href="#setupproxies"><span class="std std-ref">set up proxies</span></a> for the download to work.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make install-dep
<span class="go">Hit:1 http://us.archive.ubuntu.com/ubuntu xenial InRelease</span>
<span class="go">Get:2 http://us.archive.ubuntu.com/ubuntu xenial-updates InRelease [109 kB]</span>
<span class="go">Get:3 http://security.ubuntu.com/ubuntu xenial-security InRelease [107 kB]</span>
<span class="go">Get:4 http://us.archive.ubuntu.com/ubuntu xenial-backports InRelease [107 kB]</span>
<span class="go">Get:5 http://us.archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages [803 kB]</span>
<span class="go">Get:6 http://us.archive.ubuntu.com/ubuntu xenial-updates/main i386 Packages [732 kB]</span>
<span class="go">...</span>
<span class="go">...</span>
<span class="go">Update-alternatives: using /usr/lib/jvm/java-8-openjdk-amd64/bin/jmap to provide /usr/bin/jmap (jmap) in auto mode</span>
<span class="go">Setting up default-jdk-headless (2:1.8-56ubuntu2) ...</span>
<span class="go">Processing triggers for libc-bin (2.23-0ubuntu3) ...</span>
<span class="go">Processing triggers for systemd (229-4ubuntu6) ...</span>
<span class="go">Processing triggers for ureadahead (0.100.0-19) ...</span>
<span class="go">Processing triggers for ca-certificates (20160104ubuntu1) ...</span>
<span class="go">Updating certificates in /etc/ssl/certs...</span>
<span class="go">0 added, 0 removed; done.</span>
<span class="go">Running hooks in /etc/ca-certificates/update.d...</span>

<span class="go">done.</span>
<span class="go">done.</span>
</pre></div>
</div>
</section>
<section id="build-vpp-debug">
<h2>Build VPP (Debug)<a class="headerlink" href="#build-vpp-debug" title="Permalink to this headline"></a></h2>
<p>This build version contains debug symbols which are useful for modifying VPP. The
<strong>make</strong> command below builds a debug version of VPP. The binaries, when building the
debug images, can be found in /build-root/vpp_debug-native.</p>
<p>The Debug build version contains debug symbols, which are useful for troubleshooting
or modifying VPP. The <strong>make</strong> command below, builds a debug version of VPP. The
binaries used for building the debug image can be found in <em>/build-root/vpp_debug-native</em>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make build
<span class="go">make[1]: Entering directory &#39;/home/vagrant/vpp-master/build-root&#39;</span>
<span class="go">@@@@ Arch for platform &#39;vpp&#39; is native @@@@</span>
<span class="go">@@@@ Finding source for dpdk @@@@</span>
<span class="go">@@@@ Makefile fragment found in /home/vagrant/vpp-master/build-data/packages/dpdk.mk @@@@</span>
<span class="go">@@@@ Source found in /home/vagrant/vpp-master/dpdk @@@@</span>
<span class="go">@@@@ Arch for platform &#39;vpp&#39; is native @@@@</span>
<span class="go">@@@@ Finding source for vpp @@@@</span>
<span class="go">@@@@ Makefile fragment found in /home/vagrant/vpp-master/build-data/packages/vpp.mk @@@@</span>
<span class="go">@@@@ Source found in /home/vagrant/vpp-master/src @@@@</span>
<span class="go">...</span>
<span class="go">...</span>
<span class="go">make[5]: Leaving directory &#39;/home/vagrant/vpp-master/build-root/build-vpp_debug-native/vpp/vpp-api/java&#39;</span>
<span class="go">make[4]: Leaving directory &#39;/home/vagrant/vpp-master/build-root/build-vpp_debug-native/vpp/vpp-api/java&#39;</span>
<span class="go">make[3]: Leaving directory &#39;/home/vagrant/vpp-master/build-root/build-vpp_debug-native/vpp&#39;</span>
<span class="go">make[2]: Leaving directory &#39;/home/vagrant/vpp-master/build-root/build-vpp_debug-native/vpp&#39;</span>
<span class="go">@@@@ Installing vpp: nothing to do @@@@</span>
<span class="go">make[1]: Leaving directory &#39;/home/vagrant/vpp-master/build-root&#39;</span>
</pre></div>
</div>
</section>
<section id="build-vpp-release-version">
<h2>Build VPP (Release Version)<a class="headerlink" href="#build-vpp-release-version" title="Permalink to this headline"></a></h2>
<p>This section describes how to build the regular release version of FD.io VPP. The
release build is optimized and does not create any debug symbols.
The binaries used in building the release images are found in <em>/build-root/vpp-native</em>.</p>
<p>Use the following <strong>make</strong> command below to build the release version of FD.io VPP.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make build-release
</pre></div>
</div>
</section>
<section id="building-necessary-packages">
<h2>Building Necessary Packages<a class="headerlink" href="#building-necessary-packages" title="Permalink to this headline"></a></h2>
<p>The package that needs to be built depends on the type system VPP will be running on:</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="#debianpackages"><span class="std std-ref">Debian package</span></a> is built if VPP is going to run on Ubuntu</p></li>
<li><p>The <a class="reference internal" href="#rpmpackages"><span class="std std-ref">RPM package</span></a> is built if VPP is going to run on Centos or Redhat</p></li>
</ul>
<section id="building-debian-packages">
<span id="debianpackages"></span><h3>Building Debian Packages<a class="headerlink" href="#building-debian-packages" title="Permalink to this headline"></a></h3>
<p>To build the debian packages, use the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make pkg-deb
</pre></div>
</div>
</section>
<section id="building-rpm-packages">
<span id="rpmpackages"></span><h3>Building RPM Packages<a class="headerlink" href="#building-rpm-packages" title="Permalink to this headline"></a></h3>
<p>To build the rpm packages, use one of the following commands below, depending on the system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make pkg-rpm
</pre></div>
</div>
<p>Once the packages are built they can be found in the build-root directory.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls *.deb

<span class="go">If the packages are built correctly, then this should be the corresponding output:</span>

<span class="go">vpp_18.07-rc0~456-gb361076_amd64.deb             vpp-dbg_18.07-rc0~456-gb361076_amd64.deb</span>
<span class="go">vpp-dev_18.07-rc0~456-gb361076_amd64.deb         vpp-api-lua_18.07-rc0~456-gb361076_amd64.deb</span>
<span class="go">vpp-lib_18.07-rc0~456-gb361076_amd64.deb         vpp-api-python_18.07-rc0~456-gb361076_amd64.deb</span>
<span class="go">vpp-plugins_18.07-rc0~456-gb361076_amd64.deb</span>
</pre></div>
</div>
<p>Finally, the created packages can be installed using the following commands. Install
the package that corresponds to OS that VPP will be running on:</p>
<p>For Ubuntu:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo bash
<span class="gp"># </span>dpkg -i *.deb
</pre></div>
</div>
<p>For Centos or Redhat:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo bash
<span class="gp"># </span>rpm -ivh *.rpm
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Build, Run &amp; Debug" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="running_vpp.html" class="btn btn-neutral float-right" title="Running VPP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2021, Linux Foundation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>