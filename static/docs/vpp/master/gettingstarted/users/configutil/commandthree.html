

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Apply the Configuration &mdash; The Vector Packet Processor 20.01 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/rules.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="The Configuration Applied" href="configapplied.html" />
    <link rel="prev" title="Dry Run" href="commandtwo.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> The Vector Packet Processor
          

          
            
            <img src="../../../_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                master
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../whatisvpp/index.html">The Vector Packet Processor (VPP)</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../installing/index.html">Downloading and Installing VPP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../progressivevpp/index.html">Progressive VPP Tutorial</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">For Users</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">VPP Configuration Utility</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="installing.html">Installing VPP-Config</a></li>
<li class="toctree-l4"><a class="reference internal" href="usingvppconfig.html">Running</a></li>
<li class="toctree-l4"><a class="reference internal" href="commandfour.html">List/Install/Uninstall VPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="commandone.html">Show System Information</a></li>
<li class="toctree-l4"><a class="reference internal" href="commandtwo.html">Dry Run</a></li>
<li class="toctree-l4"><a class="reference internal" href="commandtwo.html#executing-the-dry-run">Executing the Dry Run</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Apply the Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="configapplied.html">The Configuration Applied</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuring/index.html">Configuring VPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../running/index.html">Running VPP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developers/index.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writingdocs/index.html">Writing Documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../links/index.html">VPP Wiki, Doxygen and Other Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../featuresbyrelease/index.html">Features by Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../events/index.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../relatedprojects/index.html">Related Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Vector Packet Processor</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Getting Started</a> &raquo;</li>
        
          <li><a href="../index.html">For Users</a> &raquo;</li>
        
          <li><a href="index.html">VPP Configuration Utility</a> &raquo;</li>
        
      <li>Apply the Configuration</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/gettingstarted/users/configutil/commandthree.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="apply-the-configuration">
<span id="config-command-three"></span><h1>Apply the Configuration<a class="headerlink" href="#apply-the-configuration" title="Permalink to this headline">¶</a></h1>
<p>After the configuration files have been examined and verified as correct, then the
configuration can be applied by using command option ‘3’. After the configuration
is applied, use option “1” to check the system configuration. Notice the default is
NOT to change the grub file. If the option to change the grub command line is selected,
then a reboot of the system will be required.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">What would you like to do?</span>

<span class="go">1) Show basic system information</span>
<span class="go">2) Dry Run (Will save the configuration files in /usr/local/vpp/vpp-config/dryrun for inspection)</span>
<span class="go">3) Full configuration (WARNING: This will change the system configuration)</span>
<span class="go">4) List/Install/Uninstall VPP.</span>
<span class="go">q) Quit</span>

<span class="go">Command: 3</span>

<span class="go">We are now going to configure your system(s).</span>

<span class="go">Are you sure you want to do this [Y/n]? y</span>
<span class="go">These are the changes we will apply to</span>
<span class="go">the huge page file (/etc/sysctl.d/80-vpp.conf).</span>

<span class="go">1,2d0</span>
<span class="go">&lt; vm.nr_hugepages=1024</span>
<span class="go">4,7c2,3</span>
<span class="go">&lt; vm.max_map_count=3096</span>
<span class="go">---</span>
<span class="gp">&gt;</span> vm.nr_hugepages<span class="o">=</span><span class="m">8192</span>
<span class="gp">&gt;</span> vm.max_map_count<span class="o">=</span><span class="m">17408</span>
<span class="go">8a5</span>
<span class="gp">&gt;</span> kernel.shmmax<span class="o">=</span><span class="m">17179869184</span>
<span class="go">10,15d6</span>
<span class="go">&lt; kernel.shmmax=2147483648</span>

<span class="go">Are you sure you want to apply these changes [Y/n]?</span>
<span class="go">These are the changes we will apply to</span>
<span class="go">the VPP startup file (/etc/vpp/startup.conf).</span>

<span class="go">---</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>   main-core <span class="m">8</span>
<span class="gp">&gt;</span>   corelist-workers <span class="m">9</span>-10
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>   scheduler-policy fifo
<span class="gp">&gt;</span>   scheduler-priority <span class="m">50</span>
<span class="gp">&gt;</span>
<span class="go">67,68c56,66</span>
<span class="go">&lt; # dpdk {</span>
<span class="go">---</span>
<span class="gp">&gt;</span> dpdk <span class="o">{</span>
<span class="gp">&gt;</span>
<span class="gp">&gt;</span>   dev <span class="m">0000</span>:86:00.0 <span class="o">{</span>
<span class="gp">&gt;</span>     num-rx-queues <span class="m">2</span>
<span class="gp">&gt;</span>   <span class="o">}</span>
<span class="gp">&gt;</span>   dev <span class="m">0000</span>:86:00.1 <span class="o">{</span>
<span class="gp">&gt;</span>     num-rx-queues <span class="m">2</span>
<span class="gp">&gt;</span>   <span class="o">}</span>
<span class="gp">&gt;</span>   num-mbufs <span class="m">25600</span>
<span class="gp">&gt;</span>
<span class="go">124c122</span>
<span class="go">&lt; # }</span>
<span class="go">---</span>
<span class="gp">&gt;</span> <span class="o">}</span>

<span class="go">Are you sure you want to apply these changes [Y/n]?</span>

<span class="go">The configured grub cmdline looks like this:</span>
<span class="go">GRUB_CMDLINE_LINUX_DEFAULT=&quot;isolcpus=8,9-10 nohz_full=8,9-10 rcu_nocbs=8,9-10&quot;</span>

<span class="go">The current boot cmdline looks like this:</span>
<span class="go">BOOT_IMAGE=/boot/vmlinuz-4.4.0-97-generic root=UUID=d760b82f-f37b-47e2-9815-db8d479a3557 ro</span>

<span class="go">Do you want to keep the current boot cmdline [Y/n]?</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configapplied.html" class="btn btn-neutral float-right" title="The Configuration Applied" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="commandtwo.html" class="btn btn-neutral float-left" title="Dry Run" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Linux Foundation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>