

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Control Plane Support &mdash; Hybrid ICN 20.01 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/rules.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Telemetry" href="telemetry.html" />
    <link rel="prev" title="Face Manager" href="interface.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Hybrid ICN
          

          
            
            <img src="_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lib.html">Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpp-plugin.html">VPP plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="transport.html">The Transport Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="hicn-light.html">Portable Forwarder</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Face Manager</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Control Plane Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#netconf-yang">NETCONF/YANG</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="#yang-model">YANG model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#run-the-plugin">Run the plugin</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connect-from-netopeer2-cli">Connect from netopeer2-cli</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connect-from-opendaylight-odl-controller">Connect from OpenDaylight (ODL) controller</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connect-from-cisco-network-services-orchestrator-nso">Connect from Cisco Network Services Orchestrator (NSO)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#release-note">Release note</a></li>
<li class="toctree-l2"><a class="reference internal" href="#routing-plugin-for-vpp-and-frrouting-for-ospf6">Routing plugin for VPP and FRRouting for OSPF6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dpdk-configuration-on-host-machine">DPDK configuration on host machine</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vpp-configuration">VPP configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#frr-configuration">FRR configuration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utility applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hybrid ICN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Control Plane Support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/control.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="control-plane-support">
<h1>Control Plane Support<a class="headerlink" href="#control-plane-support" title="Permalink to this headline">¶</a></h1>
<p>Control plane functionalities are provides via SDN controllers or via standard
IP routing protocols. SDN support is provided by using the NETCONF/YANG protocol
for network management, control and telemetry.</p>
<p>Routing is supported via synchronization of the IP FIB and the IP RIB as implemented
by one of the routng protocols in FRR. Without loss of generality we have reported
below one example of IGP routing via OSPF for IPv6.
The VPP IP FIB can be controlled and updated by one FRR routing protocol which
is used for routing over locators and also over hICN name prefixes.</p>
<div class="section" id="netconf-yang">
<h2>NETCONF/YANG<a class="headerlink" href="#netconf-yang" title="Permalink to this headline">¶</a></h2>
<div class="section" id="getting-started">
<h3>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h3>
<p>NETCONF/YANG support is provided via several external components such as
libyang, sysrepo, libnetconf and netopeer.
The hicn project provides a sysrepo plugin and a YANG model for two devices:
the VPP based hicn virtual switch and the portable forwarder.
The YANG model for the VPP based hICN vSwitch is based the full hICN C API
exported by the VPP plugin with the addition of some VPP APIs such as
interface and FIB management which are required by the hICN plugin.</p>
<p>To install libyang, sysrepo, libnetconf and netopeer2 for Ubuntu18 amd64/arm64
or CentOS 7 and ad-hoc repository is available and maintained in bintray
at <a class="reference external" href="https://dl.bintray.com/icn-team/apt-hicn-extras">https://dl.bintray.com/icn-team/apt-hicn-extras</a>.</p>
<p>For instance in Ubuntu 18 LTS:</p>
<p>Install the sysrepo YANG data store and a NETCONF server.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;deb [trusted=yes] https://dl.bintray.com/icn-team/apt-hicn-extras bionic main&quot;</span> <span class="se">\</span>
                                            <span class="p">|</span> tee -a /etc/apt/sources.list
apt-get update <span class="o">&amp;&amp;</span> apt-get install -y libyang sysrepo libnetconf2 netopeer2-server
</pre></div>
</div>
<p>Install the VPP based hICN virtual switch.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>curl -s https://packagecloud.io/install/repositories/fdio/release/script.deb.sh <span class="p">|</span> bash
apt-get update <span class="o">&amp;&amp;</span> apt-get install -y hicn-plugin vpp-plugin-dpdk hicn-sysrepo-plugin
</pre></div>
</div>
<p>The hICN YANG models are install under ‘/usr/lib/$(uname -m)-linux-gnu/modules_yang’.
Configure the NETCONF/YANG components</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>bash /usr/bin/setup.sh sysrepoctl /usr/lib/<span class="k">$(</span>uname -m<span class="k">)</span>-linux-gnu/modules_yang root
bash /usr/bin/merge_hostkey.sh sysrepocfg openssl
bash /usr/bin/merge_config.sh sysrepocfg genkey
</pre></div>
</div>
<p>You can manually install the yang model using the following bash script:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">EXIT_CODE</span><span class="o">=</span><span class="m">0</span>
<span class="nb">command</span> -v sysrepoctl &gt; /dev/null
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> !<span class="o">=</span> <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Could not find command \&quot;sysrepoctl\&quot;.&quot;</span>
     <span class="nb">exit</span> <span class="si">${</span><span class="nv">EXIT_CODE</span><span class="si">}</span>
<span class="k">else</span>
sysrepoctl --install --yang<span class="o">=</span>path_to_hicn_yang_model
<span class="k">fi</span>
</pre></div>
</div>
</div>
<div class="section" id="yang-model">
<h3>YANG model<a class="headerlink" href="#yang-model" title="Permalink to this headline">¶</a></h3>
<p>hicn.yang can be found in the yang-model. It consists of two container nodes:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>|--+ hicn-conf: holds the configuration data;
|  |--+ params: contains all configuration parameters; 
|--+ hicn-state: provides the state data 
|  |--+ state,
|  |--+ strategy,
|  |--+ strategies,
|  |--+ route,
|  |--+ face-ip-params
and corresponding leaves.
</pre></div>
</div>
<p>A controller can configure these parameters through the edit-config RPC
call. This node can be used to enable and to initialize the hicn-plugin in VPP
instance. hicn-state container is used to provide the state data to the
controller. It consists of state, strategy, strategies, route, and face-ip-params
nodes with the corresponding leaves. In the hicn model a variety of RPCs are provided
to allow controller to communicate with the hicn-plugin as well as update the state
data in hicn-state.</p>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>To setup the startup configuration you can use the following script:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nv">EXIT_CODE</span><span class="o">=</span><span class="m">0</span>
<span class="nb">command</span> -v sysrepocfg &gt; /dev/null
<span class="k">if</span> <span class="o">[</span> <span class="nv">$?</span> !<span class="o">=</span> <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nb">echo</span> <span class="s2">&quot;Could not find command \&quot;sysrepocfg\&quot;.&quot;</span>
     <span class="nb">exit</span> <span class="si">${</span><span class="nv">EXIT_CODE</span><span class="si">}</span>
<span class="k">else</span>
sysrepocfg -d startup -i path_to_startup_xml -f xml hicn
<span class="k">fi</span>
</pre></div>
</div>
<p>startup.xml is placed in the yang-model. Here you can find the content:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;hicn-conf  <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
&lt;params&gt;
    &lt;enable_disable&gt;false&lt;/enable_disable&gt;
    &lt;pit_max_size&gt;-1&lt;/pit_max_size&gt;
    &lt;cs_max_size&gt;-1&lt;/cs_max_size&gt;
    &lt;cs_reserved_app&gt;-1&lt;/cs_reserved_app&gt;
    &lt;pit_dflt_lifetime_sec&gt;-1&lt;/pit_dflt_lifetime_sec&gt;
    &lt;pit_max_lifetime_sec&gt;-1&lt;/pit_max_lifetime_sec&gt;
    &lt;pit_min_lifetime_sec&gt;-1&lt;/pit_min_lifetime_sec&gt;
&lt;/params&gt;
&lt;/hicn-conf&gt;
</pre></div>
</div>
<p>It contains the leaves of the params in hicn-conf node which is
used as the startup configuration. This configuration can be changed through the
controller by subscribing which changes the target to the running state. hicn
yang model provides a list of RPCs which allows controller to communicate
directly with the hicn-plugin. This RPCs may also cause the modification in
state data.</p>
<p>In order to run different RPCs from controller you can use the examples in the
controler_rpcs_instances.xml in the yang-model. Here you can find the content:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;node-params-get <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>/&gt;

&lt;node-stat-get <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>/&gt;

&lt;strategy-get <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;strategy_id&gt;0&lt;/strategy_id&gt;
&lt;/strategy-get&gt;

&lt;strategies-get <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>/&gt;

&lt;route-get <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;prefix0&gt;10&lt;/prefix0&gt;
    &lt;prefix1&gt;20&lt;/prefix1&gt;
    &lt;len&gt;30&lt;/len&gt;
&lt;/route-get&gt;

&lt;route-del <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;prefix0&gt;10&lt;/prefix0&gt;
    &lt;prefix1&gt;20&lt;/prefix1&gt;
    &lt;len&gt;30&lt;/len&gt;
&lt;/route-del&gt;

&lt;route-nhops-add <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;prefix0&gt;10&lt;/prefix0&gt;
    &lt;prefix1&gt;20&lt;/prefix1&gt;
    &lt;len&gt;30&lt;/len&gt;
    &lt;face_ids0&gt;40&lt;/face_ids0&gt;
    &lt;face_ids1&gt;50&lt;/face_ids1&gt;
    &lt;face_ids2&gt;60&lt;/face_ids2&gt;
    &lt;face_ids3&gt;70&lt;/face_ids3&gt;
    &lt;face_ids4&gt;80&lt;/face_ids4&gt;
    &lt;face_ids5&gt;90&lt;/face_ids5&gt;
    &lt;face_ids6&gt;100&lt;/face_ids6&gt;
    &lt;n_faces&gt;110&lt;/n_faces&gt;
&lt;/route-nhops-add&gt;

&lt;route-nhops-del <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;prefix0&gt;10&lt;/prefix0&gt;
    &lt;prefix1&gt;20&lt;/prefix1&gt;
    &lt;len&gt;30&lt;/len&gt;
    &lt;faceid&gt;40&lt;/faceid&gt;
&lt;/route-nhops-del&gt;

&lt;face-ip-params-get <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;faceid&gt;10&lt;/faceid&gt;
&lt;/face-ip-params-get&gt;

&lt;face-ip-add <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;nh_addr0&gt;10&lt;/nh_addr0&gt;
    &lt;nh_addr1&gt;20&lt;/nh_addr1&gt;
    &lt;swif&gt;30&lt;/swif&gt;
&lt;/face-ip-add&gt;

&lt;face-ip-del <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;faceid&gt;0&lt;/faceid&gt;
&lt;/face-ip-del&gt;

&lt;punting-add <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;prefix0&gt;10&lt;/prefix0&gt;
    &lt;prefix1&gt;20&lt;/prefix1&gt;
    &lt;len&gt;30&lt;/len&gt;
    &lt;swif&gt;40&lt;/swif&gt;
&lt;/punting-add&gt;

&lt;punting-del <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
    &lt;prefix0&gt;10&lt;/prefix0&gt;
    &lt;prefix1&gt;20&lt;/prefix1&gt;
    &lt;len&gt;30&lt;/len&gt;
    &lt;swif&gt;40&lt;/swif&gt;
&lt;/punting-del&gt;
</pre></div>
</div>
<div class="section" id="run-the-plugin">
<h4>Run the plugin<a class="headerlink" href="#run-the-plugin" title="Permalink to this headline">¶</a></h4>
<p>Firstly, verify the plugin and binary libraries are located correctly, then run
the vpp through (service vpp start). Next, run the sysrepo daemon (sysrepod),
for debug mode: sysrepo -d -l 4 which runs with high verbosity. Then, run the
sysrepo plugin (sysrepo-plugind), for debug mode: sysrep-plugind -d -l 4 which
runs with high verbosity. Now, the hicn sysrepo plugin is loaded. Then, run the
netopeer2-server which serves as NETCONF server.</p>
</div>
<div class="section" id="connect-from-netopeer2-cli">
<h4>Connect from netopeer2-cli<a class="headerlink" href="#connect-from-netopeer2-cli" title="Permalink to this headline">¶</a></h4>
<p>In order to connect through the netopeer client run the netopeer2-cli. Then, follow these steps:</p>
<ul class="simple">
<li><p>connect –host XXX –login XXX</p></li>
<li><p>get (you can get the configuration and operational data)</p></li>
<li><p>get-config (you can get the configuration data)</p></li>
<li><p>edit-config –target running –config</p></li>
</ul>
<p>You can modify the configuration but it needs an xml configuration input</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>&lt;hicn-conf  <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:sysrepo:hicn&quot;</span>&gt;
&lt;params&gt;
    &lt;enable_disable&gt;false&lt;/enable_disable&gt;
    &lt;pit_max_size&gt;-1&lt;/pit_max_size&gt;
    &lt;cs_max_size&gt;-1&lt;/cs_max_size&gt;
    &lt;cs_reserved_app&gt;-1&lt;/cs_reserved_app&gt;
    &lt;pit_dflt_lifetime_sec&gt;-1&lt;/pit_dflt_lifetime_sec&gt;
    &lt;pit_max_lifetime_sec&gt;-1&lt;/pit_max_lifetime_sec&gt;
    &lt;pit_min_lifetime_sec&gt;-1&lt;/pit_min_lifetime_sec&gt;
&lt;/params&gt;
&lt;/hicn-conf&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>user-rpc (you can call one of the rpc proposed by hicn model but it needs an xml input)</p></li>
</ul>
</div>
<div class="section" id="connect-from-opendaylight-odl-controller">
<h4>Connect from OpenDaylight (ODL) controller<a class="headerlink" href="#connect-from-opendaylight-odl-controller" title="Permalink to this headline">¶</a></h4>
<p>In order to connect through the OpenDaylight follow these procedure:</p>
<ul class="simple">
<li><p>run karaf distribution (./opendayligh_installation_folder/bin/karaf)</p></li>
<li><p>install the required feature list in DOL (feature:install odl-netconf-server
odl-netconf-connector odl-restconf-all odl-netconf-topology or
odl-netconf-clustered-topology)</p></li>
<li><p>run a rest client program (e.g., postman or RESTClient)</p></li>
<li><p>mount the remote netopeer2-server to the OpenDaylight by the following REST API:</p></li>
</ul>
<p>PUT <a class="reference external" href="http://localhost:8181/restconf/config/network-topology:network-topology/topology/topology-netconf/node/hicn-node">http://localhost:8181/restconf/config/network-topology:network-topology/topology/topology-netconf/node/hicn-node</a></p>
<p>with the following body</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span> &lt;node <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:TBD:params:xml:ns:yang:network-topology&quot;</span>&gt;
   &lt;node-id&gt;hicn-node&lt;/node-id&gt;
   &lt;host <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:opendaylight:netconf-node-topology&quot;</span>&gt;Remote_NETCONF_SERVER_IP&lt;/host&gt;
   &lt;port <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:opendaylight:netconf-node-topology&quot;</span>&gt;830&lt;/port&gt;
   &lt;username <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:opendaylight:netconf-node-topology&quot;</span>&gt;username&lt;/username&gt;
   &lt;password <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:opendaylight:netconf-node-topology&quot;</span>&gt;password&lt;/password&gt;
   &lt;tcp-only <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:opendaylight:netconf-node-topology&quot;</span>&gt;false&lt;/tcp-only&gt;
   &lt;keepalive-delay <span class="nv">xmlns</span><span class="o">=</span><span class="s2">&quot;urn:opendaylight:netconf-node-topology&quot;</span>&gt;1&lt;/keepalive-delay&gt;
 &lt;/node&gt;
</pre></div>
</div>
<p>Note that the header files must be set to Content-Type: application/xml, Accept: application/xml.</p>
<ul class="simple">
<li><p>send the operation through the following REST API:</p></li>
</ul>
<p>POST <a class="reference external" href="http://localhost:8181/restconf/operations/network-topology:network-topology/topology/topology-netconf/node/hicn-node/yang-ext:mount/ietf-netconf:edit-config">http://localhost:8181/restconf/operations/network-topology:network-topology/topology/topology-netconf/node/hicn-node/yang-ext:mount/ietf-netconf:edit-config</a></p>
<p>The body can be used the same as edit-config in netopeer2-cli.</p>
</div>
<div class="section" id="connect-from-cisco-network-services-orchestrator-nso">
<h4>Connect from Cisco Network Services Orchestrator (NSO)<a class="headerlink" href="#connect-from-cisco-network-services-orchestrator-nso" title="Permalink to this headline">¶</a></h4>
<p>To connect NSO to the netopeer2-server, first, you need to write a NED package
for your device. The procedure to create NED for hicn is explained in the
following:</p>
<p>Place hicn.yang model in a folder called hicn-yang-model, and follow these steps:</p>
<ul class="simple">
<li><p>ncs-make-package –netconf-ned ./hicn-yang-model ./hicn-nso</p></li>
<li><p>cd hicn-nso/src; make</p></li>
<li><p>ncs-setup –ned-package ./hicn-nso –dest ./hicn-nso-project</p></li>
<li><p>cd hicn-nso-project</p></li>
<li><p>ncs</p></li>
<li><p>ncs_cli -C -u admin</p></li>
<li><p>configure</p></li>
<li><p>devices authgroups group authhicn default-map remote-name user_name remote-password password</p></li>
<li><p>devices device hicn address IP_device port 830 authgroup authhicn device-type netconf</p></li>
<li><p>state admin-state unlocked</p></li>
<li><p>commit</p></li>
<li><p>ssh fetch-host-keys</p></li>
</ul>
<p>At this point, we are able to connect to the remote device.</p>
</div>
</div>
</div>
<div class="section" id="release-note">
<h2>Release note<a class="headerlink" href="#release-note" title="Permalink to this headline">¶</a></h2>
<p>The current version is compatible with the 20.01 VPP stable and sysrepo devel.</p>
</div>
<div class="section" id="routing-plugin-for-vpp-and-frrouting-for-ospf6">
<h2>Routing plugin for VPP and FRRouting for OSPF6<a class="headerlink" href="#routing-plugin-for-vpp-and-frrouting-for-ospf6" title="Permalink to this headline">¶</a></h2>
<p>This document describes how to configure the VPP with hicn_router
plugin and FRR to enable the OSPF protocol. The VPP and FRR
are configured in a docker file.</p>
<div class="section" id="dpdk-configuration-on-host-machine">
<h3>DPDK configuration on host machine<a class="headerlink" href="#dpdk-configuration-on-host-machine" title="Permalink to this headline">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>- Install and configure DPDK
- make install T=x86_64-native-linux-gcc &amp;&amp; cd x86_64-native-linux-gcc &amp;&amp; sudo make install
    - modprobe uio
    - modprobe uio_pci_generic
    - dpdk-devbind --status
    - the PCIe number of the desired device can be observed (&quot;xxx&quot;)
    - sudo dpdk-devbind -b uio_pci_generic &quot;xxx&quot;
</pre></div>
</div>
</div>
<div class="section" id="vpp-configuration">
<h3>VPP configuration<a class="headerlink" href="#vpp-configuration" title="Permalink to this headline">¶</a></h3>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>- Run and configure the VPP (hICN router plugin is required to be installed in VPP)
    - set int state TenGigabitEtherneta/0/0 up
    - set int ip address TenGigabitEtherneta/0/0 a001::1/24
    - create loopback interface
    - set interface state loop0 up
    - set interface ip address loop0 b001::1/128
    - enable tap-inject  # This creates the taps by router plugin
    - show tap-inject # This shows the created taps
    - ip mroute add ff02::/64 via local Forward  # ff02:: is multicast ip address
    - ip mroute add ff02::/64 via TenGigabitEtherneta/0/0 Accept
    - ip mroute add ff02::/64 via loop0 Accept
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>- Setup the tap interface
    - ip addr add a001::1/24 dev vpp0
    - ip addr add b001::1/128 dev vpp1
    - ip link set dev vpp0 up
    - ip link set dev vpp1 up
</pre></div>
</div>
</div>
<div class="section" id="frr-configuration">
<h3>FRR configuration<a class="headerlink" href="#frr-configuration" title="Permalink to this headline">¶</a></h3>
<p>Install FRR in Ubuntu 18 LTS:
<a class="reference external" href="http://docs.frrouting.org/projects/dev-guide/en/latest/building-frr-for-ubuntu1804.html">http://docs.frrouting.org/projects/dev-guide/en/latest/building-frr-for-ubuntu1804.html</a></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>- Run and configure FRRouting (ospf)
    - /usr/lib/frr/frrinit.sh start &amp;
    - vtysh
    - configure terminal
    - router ospf6
    - area 0.0.0.0 range a001::1/24
    - area 0.0.0.0 range b001::1/128
    - interface vpp0 area 0.0.0.0
    - interface vpp1 area 0.0.0.0
    - end
    - wr
    - add  &quot;no ipv6 nd suppress-ra&quot; to the first configurtion part of the /etc/frr/frr.conf
</pre></div>
</div>
<p>After the following configuration, the traffic over tap interface can be observered through “tcpdump- i vpp1”.
The neighborhood and route can be seen by the “show ipv6 ospf6 neighbor/route”.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="telemetry.html" class="btn btn-neutral float-right" title="Telemetry" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="interface.html" class="btn btn-neutral float-left" title="Face Manager" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2017-2020 Cisco and/or its affiliates.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>