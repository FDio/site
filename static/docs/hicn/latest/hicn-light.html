

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Portable Forwarder &mdash; Hybrid ICN 20.01 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/rules.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Face Manager" href="interface.html" />
    <link rel="prev" title="The Transport Library" href="transport.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Hybrid ICN
          

          
            
            <img src="_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lib.html">Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpp-plugin.html">VPP plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="transport.html">The Transport Library</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Portable Forwarder</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-hicn-light">Using hicn-light</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hicn-light-executables">hicn-light Executables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hicn-light-daemon">hicn-light Daemon</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hicn-light-control">hicn-light-control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#available-commands-in-hicn-light-control">Available Commands in hicn-light-control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#hicn-light-configuration-file-example">hicn-light Configuration File Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Face Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="control.html">Control Plane Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utility applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hybrid ICN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Portable Forwarder</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/hicn-light.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="portable-forwarder">
<h1>Portable Forwarder<a class="headerlink" href="#portable-forwarder" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>hicn-light is a portable forwarder that makes use of IPC and standard sockets
to communicate.</p>
</div>
<div class="section" id="using-hicn-light">
<h2>Using hicn-light<a class="headerlink" href="#using-hicn-light" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Build dependencies:</p>
<ul class="simple">
<li><p>C99 ( clang / gcc )</p></li>
<li><p>CMake 3.4</p></li>
</ul>
<p>Basic dependencies:</p>
<ul class="simple">
<li><p>OpenSSL</p></li>
<li><p>pthreads</p></li>
<li><p>libevent</p></li>
<li><p>libparc</p></li>
</ul>
</div>
</div>
<div class="section" id="hicn-light-executables">
<h2>hicn-light Executables<a class="headerlink" href="#hicn-light-executables" title="Permalink to this headline">¶</a></h2>
<p>hicn-light is a set of binary executables that are used to run a forwarder instance.
The forwarder can be run and configured using the commands</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hicn-light-daemon</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hicn-light-control</span></code></p></li>
</ul>
<p>Use the <code class="docutils literal notranslate"><span class="pre">-h</span></code> option to display the help messages</p>
<div class="section" id="hicn-light-daemon">
<h3>hicn-light Daemon<a class="headerlink" href="#hicn-light-daemon" title="Permalink to this headline">¶</a></h3>
<p>The command <code class="docutils literal notranslate"><span class="pre">hicn-light-daemon</span></code> runs the hicn-light forwarder. The forwarder can be executed
with the following options:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>hicn-light-daemon <span class="o">[</span>--port port<span class="o">]</span> <span class="o">[</span>--daemon<span class="o">]</span> <span class="o">[</span>--capacity objectStoreSize<span class="o">]</span> <span class="o">[</span>--log <span class="nv">facility</span><span class="o">=</span>level<span class="o">]</span>
                <span class="o">[</span>--log-file filename<span class="o">]</span> <span class="o">[</span>--config file<span class="o">]</span>

Options:
--port &lt;tcp_port&gt;           <span class="o">=</span> tcp port <span class="k">for</span> <span class="nb">local</span> in-bound connections
--daemon                    <span class="o">=</span> start as daemon process
--capacity &lt;capacity&gt;       <span class="o">=</span> maximum number of content objects to cache. To disable the cache
                              objectStoreSize must be <span class="m">0</span>.
                              Default vaule <span class="k">for</span> objectStoreSize is <span class="m">100000</span>
--log &lt;log_granularity&gt;     <span class="o">=</span> sets a facility to a given log level. You can have multiple of these.
                              facilities: all, config, core, io, message, processor
                              levels: debug, info, notice, warning, error, critical, alert, off
                              example: hicn-light-daemon --log <span class="nv">io</span><span class="o">=</span>debug --log <span class="nv">core</span><span class="o">=</span>off
--log-file &lt;output_logfile&gt; <span class="o">=</span> file to write log messages to <span class="o">(</span>required in daemon mode<span class="o">)</span>
--config &lt;config_path&gt;      <span class="o">=</span> configuration filename
</pre></div>
</div>
<p>The configuration file contains configuration lines as per hicn-light-control (see below for all
the available commands). If logging level or content store capacity is set in the configuration
file, it overrides the command_line. When a configuration file is specified, no default listeners
are setup.  Only ‘add listener’ lines in the configuration file matter.</p>
<p>If no configuration file is specified, hicn-light-daemon will listen on TCP and UDP ports specified
by the –port flag (or default port).  It will listen on both IPv4 and IPv6 if available. The
default port for hicn-light is 9695. Commands are expected on port 2001.</p>
</div>
<div class="section" id="hicn-light-control">
<h3>hicn-light-control<a class="headerlink" href="#hicn-light-control" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">hicn-light-control</span></code> can be used to send command to the hicn-light forwarder and configure it.
The command can be executed in the following way:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>hicn-light-control <span class="o">[</span>commands<span class="o">]</span>

Options:
    -h                    <span class="o">=</span> This <span class="nb">help</span> screen
    <span class="nv">commands</span>              <span class="o">=</span> configuration line to send to hicn-light <span class="o">(</span>use <span class="s1">&#39;help&#39;</span> <span class="k">for</span> list<span class="o">)</span>
</pre></div>
</div>
<div class="section" id="available-commands-in-hicn-light-control">
<h4>Available Commands in hicn-light-control<a class="headerlink" href="#available-commands-in-hicn-light-control" title="Permalink to this headline">¶</a></h4>
<p>This is the full list of available commands in <code class="docutils literal notranslate"><span class="pre">hicn-light-control</span></code>. This commands can be used
from the command line running <code class="docutils literal notranslate"><span class="pre">hicn-light-control</span></code> as explained before, or listing them in a
configuration file.</p>
<p>Information about the commands are also available in the <code class="docutils literal notranslate"><span class="pre">hicn-light-control</span></code> help message.</p>
<p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">listener</span></code>: creates a TCP or UDP listener with the specified options on the local forwarder.
For local connections (application to hicn-light) we expect a TCP listener. The default port for
the local listener is 9695.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>add listener &lt;protocol&gt; &lt;symbolic&gt; &lt;local_adress&gt; &lt;local_port&gt;

  &lt;symbolic&gt;        :User defined name <span class="k">for</span> listener, must start with alpha and bealphanum
  &lt;protocol&gt;        :tcp <span class="p">|</span> udp
  &lt;localAddress&gt;    :IPv4 or IPv6 address
  &lt;local_port&gt;      :TCP/UDP port
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">listener</span> <span class="pre">hicn</span></code>: creates a hicn listener with the specified options on the local forwarder.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>add listener hicn &lt;symbolic&gt; &lt;local_adress&gt;

  &lt;symbolic&gt;        :User defined name <span class="k">for</span> listener, must start with alpha and be alphanum
  &lt;localAddress&gt;    :IPv4 or IPv6 address
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">connection</span></code>: creates a TCP or UDP connection on the local forwarder with the specified options.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>add connection &lt;protocol&gt; &lt;symbolic&gt; &lt;remote_ip&gt; &lt;remote_port&gt; &lt;local_ip&gt; &lt;local_port&gt;

  &lt;protocol&gt;              : tcp <span class="p">|</span> udp
  &lt;symbolic&gt;              : symbolic name, e.g. <span class="s1">&#39;conn1&#39;</span> <span class="o">(</span>must be unique, start with alpha<span class="o">)</span>
  &lt;remote_ip&gt;             : the IPv4 or IPv6 of the remote system
  &lt;remote_port&gt;           : the remote TCP/UDP port
  &lt;local_ip&gt;              : <span class="nb">local</span> IP address to <span class="nb">bind</span> to
  &lt;local_port&gt;            : <span class="nb">local</span> TCP/UDP port
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">connection</span> <span class="pre">hicn</span></code>: creates an hicn connection on the local forwarder with the specified options.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>add connection hicn &lt;symbolic&gt; &lt;remote_ip&gt; &lt;local_ip&gt;

  &lt;symbolic&gt;            : symbolic name, e.g. <span class="s1">&#39;conn1&#39;</span> <span class="o">(</span>must be unique, start with alpha<span class="o">)</span>
  &lt;remote_ip&gt;           : the IPv4 or IPv6 of the remote system
  &lt;local_ip&gt;            : <span class="nb">local</span> IP address to <span class="nb">bind</span> to
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">list</span></code>: lists the connections, routes or listeners available on the local hicn-light forwarder</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>list &lt;connections <span class="p">|</span> routes <span class="p">|</span> listeners&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">route</span></code>: adds a route to the specified connection</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>add route &lt;symbolic <span class="p">|</span> connid&gt; &lt;prefix&gt; &lt;cost&gt;

  &lt;symbolic&gt;   :The symbolic name <span class="k">for</span> an exgress <span class="o">(</span>must be unique, start with alpha<span class="o">)</span>
  &lt;connid&gt;:    :The egress connection id <span class="o">(</span>see <span class="s1">&#39;help list connections&#39;</span><span class="o">)</span>
  &lt;prefix&gt;:    :ipAddress/netmask
  &lt;cost&gt;:      :positive integer representing cost
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">remove</span> <span class="pre">connection</span></code>: removes the specified connection. At the moment, this commands is available
only for UDP connections, TCP is ignored.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>remove connection &lt;protocol&gt; &lt;symbolic <span class="p">|</span> connid&gt;

  &lt;protocol&gt;   : tcp <span class="p">|</span> upd. This is the protocol used to create the connection.
  &lt;symbolic&gt;   :The symbolic name <span class="k">for</span> an exgress <span class="o">(</span>must be unique, start with alpha<span class="o">)</span>
  &lt;connid&gt;:    :The egress connection id <span class="o">(</span>see <span class="s1">&#39;help list connections&#39;</span><span class="o">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">remove</span> <span class="pre">route</span></code>: remove the specified prefix for a local connection</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>remove route &lt;symbolic <span class="p">|</span> connid&gt; &lt;prefix&gt;

  &lt;connid&gt;    : the alphanumeric name of a <span class="nb">local</span> connection
  &lt;prefix&gt;    : the prefix <span class="o">(</span>ipAddress/netmask<span class="o">)</span> to remove
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cache</span> <span class="pre">serve</span></code>: enables/disables replies from local content store (if available)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cache serve &lt;on<span class="p">|</span>off&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cache</span> <span class="pre">store</span></code>:  enables/disables the storage of incoming data packets in the local content store
(if available)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cache store &lt;on<span class="p">|</span>off&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">cache</span> <span class="pre">clear</span></code>: removes all the cached data form the local content store (if available)</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>cache clear
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">strategy</span></code>: sets the forwarding strategy for a give prefix. There are 4 different strategies
implemented in hicn-light:</p>
<ul class="simple">
<li><p>random: each interest is forwarded randomly to one of the available output connections</p></li>
<li><p>loadbalancer: each interest is forwarded toward the output connection with the lowest number
of pending interests. The pending interest are the interest sent on a certain connection but
not yet satisfied. More information are available in:
G. Carofiglio, M. Gallo, L. Muscariello, M. Papalini, S. Wang,
“Optimal multipath congestion control and request forwarding in information-centric networks”,
ICNP 2013.</p></li>
<li><p>low_latency: uses the face with the lowest latency. In case more faces have similar latency the  strategy uses them in parallel</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> strategy &lt;prefix&gt; &lt;strategy&gt;

  &lt;preifx&gt;    : the prefix to which apply the forwarding strategy
  &lt;strategy&gt;  : random <span class="p">|</span> loadbalancer <span class="p">|</span> low_latency
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">wldr</span></code>: turns on/off WLDR on the specified connection. WLDR (Wireless Loss Detiection and
Recovery) is a protocol that can be used to recover losses generated by unreliable wireless
connections, such as WIFI. More information on WLDR are available in:
G. Carofiglio, L. Muscariello, M. Papalini, N. Rozhnova, X. Zeng,
“Leveraging ICN In-network Control for Loss Detection and Recovery in Wireless Mobile networks”,
ICN 2016. Notice that WLDR is currently available only for UDP connections. In order to work
properly, WLDR needs to be activated on both side of the connection.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> wldr &lt;on<span class="p">|</span>off&gt; &lt;symbolic <span class="p">|</span> connid&gt;

  &lt;symbolic&gt;   :The symbolic name <span class="k">for</span> an exgress <span class="o">(</span>must be unique, start with alpha<span class="o">)</span>
  &lt;connid&gt;:    :The egress connection id <span class="o">(</span>see <span class="s1">&#39;help list connections&#39;</span><span class="o">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">punting</span></code>: Add punting rules to the forwarders.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>add punting &lt;symbolic&gt; &lt;prefix&gt;

 &lt;symbolic&gt; : listener symbolic name
 &lt;address&gt;  : prefix to add as a punting rule. <span class="o">(</span>example <span class="m">1234</span>::0/64<span class="o">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mapme</span> <span class="pre">enable</span></code>: enables/disables mapme</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mapme <span class="nb">enable</span> &lt;on<span class="p">|</span>off&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mapme</span> <span class="pre">discovery</span></code>: enables/disables mapme discovery</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mapme discovery &lt;on<span class="p">|</span>off&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mapme</span> <span class="pre">timescale</span></code>: set the timescale value expressed in millisencods</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mapme timescale &lt;milliseconds&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">mapme</span> <span class="pre">retx</span></code>: set the retrasmission time value expressed in millisecond</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>mapme retx &lt;milliseconds&gt;
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">quit</span></code>: Exits the interactive shell</p>
</div>
</div>
<div class="section" id="hicn-light-configuration-file-example">
<h3>hicn-light Configuration File Example<a class="headerlink" href="#hicn-light-configuration-file-example" title="Permalink to this headline">¶</a></h3>
<p>This is an example of a simple configuration file for hicn-light. It can be loaded by running
the command <code class="docutils literal notranslate"><span class="pre">hicn-light-daemon</span> <span class="pre">--config</span> <span class="pre">configFile.cfg</span></code>, assuming the file name is configFile.cfg</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1">#create a local listener on port 9199. This will be used by the applications to talk</span>
with the forwarder
add listener udp local0 <span class="m">192</span>.168.0.1 <span class="m">9199</span>

<span class="c1">#create a connection with a remote hicn-light-daemon, with a listener on 192.168.0.20 12345</span>
add connection udp conn0 <span class="m">192</span>.168.0.20 <span class="m">12345</span> <span class="m">192</span>.168.0.1 <span class="m">9199</span>

<span class="c1">#add a route toward the remote node</span>
add route conn0 c001::/64 <span class="m">1</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="interface.html" class="btn btn-neutral float-right" title="Face Manager" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="transport.html" class="btn btn-neutral float-left" title="The Transport Library" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2017-2020 Cisco and/or its affiliates.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>