

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>VPP Configuration File - ‘startup.conf’ &mdash; Vector Packet Processor 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/rules.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../../about.html" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Running VPP" href="../running/index.html" />
    <link rel="prev" title="Huge Pages" href="hugepages.html" /> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Vector Packet Processor
          

          
            
            <img src="../../../_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../overview/index.html">Overview</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../installing/index.html">Downloading and Installing VPP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../progressivevpp/index.html">Progressive VPP Tutorial</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">For Users</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../configutil/index.html">VPP Configuration Utility</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Configuring VPP</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="hugepages.html">Huge Pages</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">VPP Configuration File - ‘startup.conf’</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../running/index.html">Running VPP</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../developers/index.html">For Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../writingdocs/index.html">Writing Documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../links/index.html">VPP Wiki, Doxygen and Other Links</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../featuresbyrelease/index.html">Features by Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../events/index.html">Events</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../relatedprojects/index.html">Related Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../archive/index.html">Archive</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vector Packet Processor</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Getting Started</a> &raquo;</li>
        
          <li><a href="../index.html">For Users</a> &raquo;</li>
        
          <li><a href="index.html">Configuring VPP</a> &raquo;</li>
        
      <li>VPP Configuration File - ‘startup.conf’</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/gettingstarted/users/configuring/startup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vpp-configuration-file-startup-conf">
<span id="startup"></span><h1>VPP Configuration File - ‘startup.conf’<a class="headerlink" href="#vpp-configuration-file-startup-conf" title="Permalink to this headline">¶</a></h1>
<p>After a successful installation, VPP installs a startup config file named
<em>startup.conf</em> in the <em>/etc/vpp/</em> directory. This file can be tailored to
make VPP run as desired, but contains default values for typical installations.</p>
<p>Below are more details about this file and the parameters and values it contains.</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The VPP network stack comes with several configuration options that can be
provided either on the command line when VPP is started, or in a configuration
file. Specific applications built on the stack have been known to require a dozen
arguments, depending on requirements.</p>
</div>
<div class="section" id="command-line-arguments">
<h2>Command-line Arguments<a class="headerlink" href="#command-line-arguments" title="Permalink to this headline">¶</a></h2>
<p>Parameters are grouped by a section name. When providing more than one
parameter to a section, all parameters for that section must be wrapped in
curly braces. For example, to start VPP with configuration data via the
command line with the section name <em>‘unix’</em>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo /usr/bin/vpp unix <span class="o">{</span> interactive cli-listen <span class="m">127</span>.0.0.1:5002 <span class="o">}</span>
</pre></div>
</div>
<p>The command line can be presented as a single string or as several; anything
given on the command line is concatenated with spaces into a single string
before parsing. VPP applications must be able to locate their own executable
images. The simplest way to ensure this will work is to invoke a VPP
application by giving its absolute path. For example:
<em>‘/usr/bin/vpp &lt;options&gt;’</em>  At startup, VPP applications parse through their
own ELF-sections [primarily] to make lists of init, configuration, and exit
handlers.</p>
<p>When developing with VPP, in gdb it’s often sufficient to start an application
like this:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">(gdb) run unix interactive</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration-file">
<h2>Configuration File<a class="headerlink" href="#configuration-file" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to supply the configuration parameters in a startup
configuration. The path of the file is provided to the VPP application on its
command line. The format of the configuration file is a simple text file with
the same content as the command line, but with the benefit of being able to use
newlines to make the content easier to read. For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat /etc/vpp/startup.conf
<span class="go">unix {</span>
<span class="go">  nodaemon</span>
<span class="go">  log /var/log/vpp/vpp.log</span>
<span class="go">  full-coredump</span>
<span class="go">  cli-listen localhost:5002</span>
<span class="go">}</span>

<span class="go">api-trace {</span>
<span class="go">  on</span>
<span class="go">}</span>

<span class="go">dpdk {</span>
<span class="go">  dev 0000:03:00.0</span>
<span class="go">}</span>
</pre></div>
</div>
<p>VPP is then instructed to load this file with the -c option. For example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sudo /usr/bin/vpp -c /etc/vpp/startup.conf
</pre></div>
</div>
<p>When the VPP service is started, VPP is started with this option via another
installed file, vpp.service (Ubuntu: /lib/systemd/system/vpp.service and
CentOS: /usr/lib/systemd/system/vpp.service). See <em>‘ExecStart’</em> below:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat /lib/systemd/system/vpp.service
<span class="go">[Unit]</span>
<span class="go">Description=vector packet processing engine</span>
<span class="go">After=network.target</span>

<span class="go">[Service]</span>
<span class="go">Type=simple</span>
<span class="go">ExecStartPre=-/bin/rm -f /dev/shm/db /dev/shm/global_vm /dev/shm/vpe-api</span>
<span class="go">ExecStartPre=-/sbin/modprobe uio_pci_generic</span>
<span class="go">ExecStart=/usr/bin/vpp -c /etc/vpp/startup.conf</span>
<span class="go">ExecStopPost=/bin/rm -f /dev/shm/db /dev/shm/global_vm /dev/shm/vpe-api</span>
<span class="go">Restart=always</span>

<span class="go">[Install]</span>
<span class="go">WantedBy=multi-user.target</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration-parameters">
<h2>Configuration Parameters<a class="headerlink" href="#configuration-parameters" title="Permalink to this headline">¶</a></h2>
<p>Below is the list of section names and their associated parameters. This is not
an exhaustive list of parameters available. The command-line argument parsers
can be found in the source code by searching for instances of the
<strong>VLIB_CONFIG_FUNCTION</strong> and <strong>VLIB_EARLY_CONFIG_FUNCTION</strong> macro.</p>
<p>For example, the invocation <em>‘VLIB_CONFIG_FUNCTION (foo_config, “foo”)’</em> will
cause the function <em>‘foo_config’</em> to receive all parameters given in a
parameter block named “foo”: “foo { arg1 arg2 arg3 … }”.</p>
</div>
<div class="section" id="list-of-basic-parameters">
<h2>List of Basic Parameters:<a class="headerlink" href="#list-of-basic-parameters" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><a class="reference internal" href="#unix">unix</a></div>
<div class="line"><a class="reference internal" href="#dpdk">dpdk</a></div>
<div class="line"><a class="reference internal" href="#cpu">cpu</a></div>
</div>
</div>
<div class="section" id="list-of-advanced-parameters">
<h2>List of Advanced Parameters:<a class="headerlink" href="#list-of-advanced-parameters" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><a class="reference internal" href="#acl-plugin">acl-plugin</a></div>
<div class="line"><a class="reference internal" href="#api-queue">api-queue</a></div>
<div class="line"><a class="reference internal" href="#api-segment">api-segment</a></div>
<div class="line"><a class="reference internal" href="#api-trace">api-trace</a></div>
<div class="line"><a class="reference internal" href="#buffers">buffers</a></div>
<div class="line"><a class="reference internal" href="#cj">cj</a></div>
<div class="line"><a class="reference internal" href="#dns">dns</a></div>
<div class="line"><a class="reference internal" href="#heapsize">heapsize</a></div>
<div class="line"><a class="reference internal" href="#ip">ip</a></div>
<div class="line"><a class="reference internal" href="#ip6">ip6</a></div>
<div class="line"><a class="reference internal" href="#l2learn">l2learn</a></div>
<div class="line"><a class="reference internal" href="#l2tp">l2tp</a></div>
<div class="line"><a class="reference internal" href="#logging">logging</a></div>
<div class="line"><a class="reference internal" href="#mactime">mactime</a></div>
<div class="line"><a class="reference internal" href="#map">map</a></div>
<div class="line"><a class="reference internal" href="#mc">mc</a></div>
<div class="line"><a class="reference internal" href="#nat">nat</a></div>
<div class="line"><a class="reference internal" href="#oam">oam</a></div>
<div class="line"><a class="reference internal" href="#plugins">plugins</a></div>
<div class="line"><a class="reference internal" href="#plugin-path">plugin_path</a></div>
<div class="line"><a class="reference internal" href="#punt">punt</a></div>
<div class="line"><a class="reference internal" href="#session">session</a></div>
<div class="line"><a class="reference internal" href="#socketsvr">socketsvr</a></div>
<div class="line"><a class="reference internal" href="#stats">stats</a></div>
<div class="line"><a class="reference internal" href="#statseg">statseg</a></div>
<div class="line"><a class="reference internal" href="#tapcli">tapcli</a></div>
<div class="line"><a class="reference internal" href="#tcp">tcp</a></div>
<div class="line"><a class="reference internal" href="#tls">tls</a></div>
<div class="line"><a class="reference internal" href="#tuntap">tuntap</a></div>
<div class="line"><a class="reference internal" href="#vhost-user">vhost-user</a></div>
<div class="line"><a class="reference internal" href="#vlib">vlib</a></div>
</div>
<div class="section" id="unix-parameters">
<span id="unix"></span><h3>“unix” Parameters<a class="headerlink" href="#unix-parameters" title="Permalink to this headline">¶</a></h3>
<p>Configure VPP startup and behavior type attributes, as well and any OS based
attributes.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>interactive</strong></dt>
<dd><p class="first">Attach CLI to stdin/out and provide a debugging command line interface.
Implies nodaemon.</p>
<p class="last"><strong>Example:</strong> interactive</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>nodaemon</strong></dt>
<dd><p class="first">Do not fork / background the vpp process. Typical when invoking VPP
applications from a process monitor. Set by default in the default
<em>‘startup.conf’</em> file.</p>
<p class="last"><strong>Example:</strong> nodaemon</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>log &lt;filename&gt;</strong></dt>
<dd><p class="first">Logs the startup configuration and all subsequent CLI commands in filename.
Very useful in situations where folks don’t remember or can’t be bothered
to include CLI commands in bug reports. The default <em>‘startup.conf’</em> file
is to write to <em>‘/var/log/vpp/vpp.log’</em>.</p>
<p>In VPP 18.04, the default log file location was moved from ‘/tmp/vpp.log’
to ‘/var/log/vpp/vpp.log’ . The VPP code is indifferent to the file location.
However, if SELinux is enabled, then the new location is required for the file
to be properly labeled. Check your local <em>‘startup.conf’</em> file for the log file
location on your system.</p>
<p class="last"><strong>Example:</strong> log /var/log/vpp/vpp-debug.log</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>exec|startup-config &lt;filename&gt;</strong></dt>
<dd><p class="first">Read startup operational configuration from filename. The contents of the file
will be performed as though entered at the CLI. The two keywords are aliases
for the same function; if both are specified, only the last will have an effect.
The file contains CLI commands, for example:</p>
<div class="line-block">
<div class="line">$ cat /usr/share/vpp/scripts/interface-up.txt</div>
<div class="line">set interface state TenGigabitEthernet1/0/0 up</div>
<div class="line">set interface state TenGigabitEthernet1/0/1 up</div>
</div>
<p class="last"><strong>Example:</strong> startup-config /usr/share/vpp/scripts/interface-up.txt</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>gid number|name&gt;</strong></dt>
<dd><p class="first">Sets the effective group ID to the input group ID or group name of the calling
process.</p>
<p class="last"><strong>Example:</strong> gid vpp</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>full-coredump</strong></dt>
<dd><p class="first">Ask the Linux kernel to dump all memory-mapped address regions, instead of
just text+data+bss.</p>
<p class="last"><strong>Example:</strong> full-coredump</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>coredump-size unlimited|&lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Set the maximum size of the coredump file. The input value can be set in
GB, MB, KB or bytes, or set to <em>‘unlimited’</em>.</p>
<p class="last"><strong>Example:</strong> coredump-size unlimited</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-listen &lt;ipaddress:port&gt;|&lt;socket-path&gt;</strong></dt>
<dd><p class="first">Bind the CLI to listen at address localhost on TCP port 5002. This will
accept an ipaddress:port pair or a filesystem path; in the latter case a
local Unix socket is opened instead. The default <em>‘startup.conf’</em> file
is to open the socket <em>‘/run/vpp/cli.sock’</em>.</p>
<p class="last"><strong>Example:</strong> cli-listen localhost:5002
<strong>Example:</strong> cli-listen /run/vpp/cli.sock</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-line-mode</strong></dt>
<dd><p class="first">Disable character-by-character I/O on stdin. Useful when combined with,
for example, emacs M-x gud-gdb.</p>
<p class="last"><strong>Example:</strong> cli-line-mode</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-prompt &lt;string&gt;</strong></dt>
<dd><p class="first">Configure the CLI prompt to be string.</p>
<p class="last"><strong>Example:</strong> cli-prompt vpp-2</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-history-limit &lt;n&gt;</strong></dt>
<dd><p class="first">Limit commmand history to &lt;n&gt; lines. A value of 0 disables command history.
Default value: 50</p>
<p class="last"><strong>Example:</strong> cli-history-limit 100</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-no-banner</strong></dt>
<dd><p class="first">Disable the login banner on stdin and Telnet connections.</p>
<p class="last"><strong>Example:</strong> cli-no-banner</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-no-pager</strong></dt>
<dd><p class="first">Disable the output pager.</p>
<p class="last"><strong>Example:</strong> cli-no-pager</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>cli-pager-buffer-limit &lt;n&gt;</strong></dt>
<dd><p class="first">Limit pager buffer to &lt;n&gt; lines of output. A value of 0 disables the
pager. Default value: 100000</p>
<p class="last"><strong>Example:</strong> cli-pager-buffer-limit 5000</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>runtime-dir &lt;dir&gt;</strong></dt>
<dd><p class="first">Set the runtime directory, which is the default location for certain
files, like socket files. Default is based on User ID used to start VPP.
Typically it is <em>‘root’</em>, which defaults to <em>‘/run/vpp/’</em>. Otherwise,
defaults to <em>‘/run/user/&lt;uid&gt;/vpp/’</em>.</p>
<p class="last"><strong>Example:</strong> runtime-dir /tmp/vpp</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>poll-sleep-usec &lt;n&gt;</strong></dt>
<dd><p class="first">Add a fixed-sleep between main loop poll. Default is 0, which is not to
sleep.</p>
<p class="last"><strong>Example:</strong> poll-sleep-usec 100</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>pidfile &lt;filename&gt;</strong></dt>
<dd><p class="first">Writes the pid of the main thread in the given filename.</p>
<p class="last"><strong>Example:</strong> pidfile /run/vpp/vpp1.pid</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dpdk-parameters">
<span id="dpdk"></span><h3>“dpdk” Parameters<a class="headerlink" href="#dpdk-parameters" title="Permalink to this headline">¶</a></h3>
<p>Command line DPDK configuration controls a number of parameters, including
device whitelisting, the number of CPUs available for launching
dpdk-eal-controlled threads, the number of I/O buffers, and the process
affinity mask. In addition, the DPDK configuration function attempts to support
all of the DPDK EAL configuration parameters.</p>
<p>All of the DPDK EAL options should be available.
See ../src/plugins/dpdk/device/dpdk_priv.h, look at the set of
“foreach_eal_XXX” macros.</p>
<dl class="docutils">
<dt>Popular options include:</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><strong>dev &lt;pci-dev&gt;</strong></dt>
<dd><p class="first">White-list [as in, attempt to drive] a specific PCI device. PCI-dev is a
string of the form “DDDD:BB:SS.F” where:</p>
<blockquote>
<div><div class="line-block">
<div class="line">DDDD = Domain</div>
<div class="line">BB = Bus Number</div>
<div class="line">SS = Slot number</div>
<div class="line">F = Function</div>
</div>
</div></blockquote>
<p>This is the same format used in the linux sysfs tree (i.e.
/sys/bus/pci/devices) for PCI device directory names.</p>
<p class="last"><strong>Example:</strong> dev 0000:02:00.0</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>dev &lt;pci-dev&gt; { .. }</strong></dt>
<dd><p class="first">When whitelisting specific interfaces by specifying PCI address,
additional custom parameters can also be specified. Valid options include:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt><strong>num-rx-queues &lt;n&gt;</strong></dt>
<dd>Number of receive queues. Also enables RSS. Default value is 1.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>num-tx-queues &lt;n&gt;</strong></dt>
<dd>Number of transmit queues. Default is equal to number of worker
threads or 1 if no workers treads.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>num-rx-desc &lt;n&gt;</strong></dt>
<dd>Number of descriptors in receive ring. Increasing or reducing number
can impact performance. Default is 1024.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>num-rt-desc &lt;n&gt;</strong></dt>
<dd>Number of descriptors in transmit ring. Increasing or reducing number
can impact performance. Default is 1024.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>workers</strong></dt>
<dd>TBD</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>vlan-strip-offload on|off</strong>:</dt>
<dd>VLAN strip offload mode for interface. VLAN stripping is off by default
for all NICs except VICs, using ENIC driver, which has VLAN stripping on
by default.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>hqos</strong></dt>
<dd>Enable the Hierarchical Quaity-of-Service (HQoS) scheduler, default is
disabled. This enables HQoS on specific output interface.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>hqos { .. }</strong></dt>
<dd>HQoS can also have its own set of custom parameters. Setting a custom
parameter also enables HQoS.<ul class="last">
<li><dl class="first docutils">
<dt><strong>hqos-thread &lt;n&gt;</strong></dt>
<dd>HQoS thread used by this interface. To setup a pool of threads that
are shared by all HQoS interfaces, set via the*’cpu’* section using
either <em>‘corelist-hqos-threads’</em> or <em>‘coremask-hqos-threads’</em>.</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>rss</strong></dt>
<dd>TBD</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Example:</strong></p>
<blockquote class="last">
<div><div class="line-block">
<div class="line">dev 0000:02:00.1 {</div>
<div class="line-block">
<div class="line">num-rx-queues 2</div>
<div class="line">num-tx-queues 2</div>
</div>
<div class="line">}</div>
</div>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>vdev &lt;eal-command&gt;</strong></dt>
<dd><p class="first">Provide a DPDK EAL command to specify bonded Ethernet interfaces, operating
modes and PCI addresses of slave links. Only XOR balanced (mode 2) mode is
supported.</p>
<p><strong>Example:</strong></p>
<blockquote class="last">
<div><div class="line-block">
<div class="line">vdev eth_bond0,mode=2,slave=0000:0f:00.0,slave=0000:11:00.0,xmit_policy=l34</div>
<div class="line">vdev eth_bond1,mode=2,slave=0000:10:00.0,slave=0000:12:00.0,xmit_policy=l34</div>
</div>
</div></blockquote>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>num-mbufs &lt;n&gt;</strong></dt>
<dd><p class="first">Increase number of buffers allocated. May be needed in scenarios with
large number of interfaces and worker threads, or a lot of physical
interfaces with multiple RSS queues. Value is per CPU socket. Default is
16384.</p>
<p class="last"><strong>Example:</strong> num-mbufs 128000</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>no-pci</strong></dt>
<dd><p class="first">When VPP is started, if an interface is not owned by the linux kernel
(interface is administratively down), VPP will attempt to manage the
interface. <em>‘no-pci’</em> indicates that VPP should not walk the PCI table
looking for interfaces.</p>
<p class="last"><strong>Example:</strong> no-pci</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>no-hugetlb</strong></dt>
<dd><p class="first">Don’t use huge TLB pages. Potentially useful for running simulator images.</p>
<p class="last"><strong>Example:</strong> no-hugetlb</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>kni &lt;n&gt;</strong></dt>
<dd><p class="first">Number of KNI interfaces. Refer to the DPDK documentation.</p>
<p class="last"><strong>Example:</strong> kni 2</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>uio-driver uio_pci_generic|igb_uio|vfio-pci|auto</strong></dt>
<dd><p class="first">Change UIO driver used by VPP. Default is <em>‘auto’</em>.</p>
<p class="last"><strong>Example:</strong> uio-driver igb_uio</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>socket-mem &lt;n&gt;</strong></dt>
<dd><p class="first">Change hugepages allocation per-socket, needed only if there is need for
larger number of mbufs. Default is 64 hugepages on each detected CPU
socket.</p>
<p class="last"><strong>Example:</strong> socket-mem 2048,2048</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<p><strong>Other options include:</strong></p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>enable-tcp-udp-checksum</strong></dt>
<dd><p class="first">Enables UDP/TCP RX checksum offload.</p>
<p class="last"><strong>Example:</strong> enable-tcp-udp-checksum</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>no-multi-seg</strong></dt>
<dd><p class="first">Disable mutli-segment buffers, improves performance but disables Jumbo MTU
support.</p>
<p class="last"><strong>Example:</strong> no-multi-seg</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>no-tx-checksum-offload</strong></dt>
<dd><p class="first">Disables UDP/TCP TX checksum offload. Typically needed for use faster
vector PMDs (together with no-multi-seg).</p>
<p class="last"><strong>Example:</strong> no-tx-checksum-offload</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>decimal-interface-names</strong></dt>
<dd><p class="first">Format DPDK device names with decimal, as opposed to hexadecimal.</p>
<p class="last"><strong>Example:</strong> decimal-interface-names</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>log-level  emergency|alert|critical|error|warning|notice|info|debug</strong></dt>
<dd><p class="first">Set the log level for DPDK logs. Default is <em>‘notice’</em>.</p>
<p class="last"><strong>Example:</strong> log-level error</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>dev default { .. }</strong></dt>
<dd><p class="first">Change default settings for all intefaces. This sections supports the
same set of custom parameters described in <em>‘dev &lt;pci-dev&gt; { .. }</em>’.</p>
<p><strong>Example:</strong></p>
<blockquote class="last">
<div><div class="line-block">
<div class="line">dev default {</div>
<div class="line-block">
<div class="line">num-rx-queues 3</div>
<div class="line">num-tx-queues 3</div>
</div>
<div class="line">}</div>
</div>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="cpu-parameters">
<span id="cpu"></span><h3>“cpu” Parameters<a class="headerlink" href="#cpu-parameters" title="Permalink to this headline">¶</a></h3>
<p>Command-line CPU configuration controls the creation of named thread types, and
the cpu affinity thereof. In the VPP there is one main thread and optionally
the user can create worker(s). The main thread and worker thread(s) can be
pinned to CPU core(s) automatically or manually.</p>
<p><strong>Automatic Pinning:</strong></p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>workers &lt;n&gt;</strong></dt>
<dd><p class="first">Create &lt;n&gt; worker threads.</p>
<p class="last"><strong>Example:</strong> workers 4</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>io &lt;n&gt;</strong></dt>
<dd><p class="first">Create &lt;n&gt; i/o threads.</p>
<p class="last"><strong>Example:</strong> io 2</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>main-thread-io</strong></dt>
<dd><p class="first">Handle i/o devices from thread 0, hand off traffic to worker threads.
Requires “workers &lt;n&gt;”.</p>
<p class="last"><strong>Example:</strong> main-thread-io</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>skip-cores &lt;n&gt;</strong></dt>
<dd><p class="first">Sets number of CPU core(s) to be skipped (1 … N-1). Skipped CPU core(s)
are not used for pinning main thread and working thread(s). The main thread
is automatically pinned to the first available CPU core and worker(s) are
pinned to next free CPU core(s) after core assigned to main threadLeave
the low nn bits of the process affinity mask clear.</p>
<p class="last"><strong>Example:</strong> skip-cores 4</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Manual Pinning:</strong></p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>main-core &lt;n&gt;</strong></dt>
<dd><p class="first">Assign main thread to a specific core.</p>
<p class="last"><strong>Example:</strong> main-core 1</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>coremask-workers &lt;hex-mask&gt;</strong></dt>
<dd><p class="first">Place worker threads according to the bitmap hex-mask.</p>
<p class="last"><strong>Example:</strong> coremask-workers 0x0000000000C0000C</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>corelist-workers &lt;list&gt;</strong></dt>
<dd><p class="first">Same as coremask-workers but accepts a list of cores instead of a bitmap.</p>
<p class="last"><strong>Example:</strong> corelist-workers 2-3,18-19</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>coremask-io &lt;hex-mask&gt;</strong></dt>
<dd><p class="first">Place I/O threads according to the bitmap hex-mask.</p>
<p class="last"><strong>Example:</strong> coremask-io 0x0000000003000030</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>corelist-io &lt;list&gt;</strong></dt>
<dd><p class="first">Same as coremask-io but accepts a list of cores instead of a bitmap.</p>
<p class="last"><strong>Example:</strong> corelist-io 4-5,20-21</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>coremask-hqos-threads &lt;hex-mask&gt;</strong></dt>
<dd><p class="first">Place HQoS threads according to the bitmap hex-mask. A HQoS thread can
run multiple HQoS objects each associated with different output interfaces.</p>
<p class="last"><strong>Example:</strong> coremask-hqos-threads 0x000000000C0000C0</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>corelist-hqos-threads &lt;list&gt;</strong></dt>
<dd><p class="first">Same as coremask-hqos-threads but accepts a list of cores instead of a
bitmap.</p>
<p class="last"><strong>Example:</strong> corelist-hqos-threads 6-7,22-23</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p><strong>Other:</strong></p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>use-pthreads</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> use-pthreads</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>thread-prefix &lt;prefix&gt;</strong></dt>
<dd><p class="first">Set a prefix to be prepended to each thread name. The thread name already
contains an underscore. If not provided, the default is <em>‘vpp’</em>.
Currently, prefix used on threads: <em>‘vpp_main’</em>, <em>‘vpp_stats’</em></p>
<p class="last"><strong>Example:</strong> thread-prefix vpp1</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>scheduler-policy rr|fifo|batch|idle|other</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> scheduler-policy fifo</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>scheduler-priority &lt;n&gt;</strong></dt>
<dd><p class="first">Set the scheduler priority. Only valid if the <em>‘scheduler-policy’</em> is set
to <em>‘fifo’</em> or <em>‘rr’</em>. The valid ranges for the scheduler priority depends
on the <em>‘scheduler-policy’</em> and the current kernel version running. The
range is typically 1 to 99, but see the linux man pages for <em>‘sched’</em> for
more details. If this value is not set, the current linux kernel default
is left in place.</p>
<p class="last"><strong>Example:</strong> scheduler-priority 50</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>&lt;thread-name&gt; &lt;count&gt;</strong></dt>
<dd><p class="first">Set the number of threads for a given thread (by name). Some threads, like
<em>‘stats’</em>, have a fixed number of threads and cannot be changed. List of
possible threads include (but not limited too): hqos-threads, workers</p>
<p class="last"><strong>Example:</strong> hqos-threads 2</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The “main” thread always occupies the lowest core-id specified in the
DPDK [process-level] coremask.</p>
</div>
<p>Here’s a full-bore manual placement example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">/usr/bin/vpp  unix interactive tuntap disable cpu { main-thread-io coremask-workers 18 coremask-stats 4 } dpdk { coremask 1e }</span>

<span class="gp">#</span> taskset -a -p &lt;vpe-pid&gt;
<span class="go">pid 16251&#39;s current affinity mask: 2        # main thread</span>
<span class="go">pid 16288&#39;s current affinity mask: ffffff   # DPDK interrupt thread (not bound to a core)</span>
<span class="go">pid 16289&#39;s current affinity mask: 4        # stats thread</span>
<span class="go">pid 16290&#39;s current affinity mask: 8        # worker thread 0</span>
<span class="go">pid 16291&#39;s current affinity mask: 10       # worker thread 1</span>
</pre></div>
</div>
</div>
<div class="section" id="acl-plugin-parameters">
<span id="acl-plugin"></span><h3>“acl-plugin” Parameters<a class="headerlink" href="#acl-plugin-parameters" title="Permalink to this headline">¶</a></h3>
<p>These parameters change the configuration of the ACL (access control list) plugin,
such as how the ACL bi-hash tables are initialized.</p>
<p>They should only be set by those that are familiar with the interworkings of VPP
and the ACL Plugin.</p>
<p>The first three parameters, <em>connection hash buckets</em>, <em>connection hash memory</em>,
and <em>connection count max</em>, set the <strong>connection table per-interface parameters</strong>
for modifying how the two bounded-index extensible hash tables for
IPv6 (40*8 bit key and 8*8 bit value pairs) and IPv4
(16*8 bit key and 8*8 bit value pairs) <strong>ACL plugin FA interface sessions</strong>
are initialized.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>connection hash buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets (rounded up to a power of 2) in each
of the two bi-hash tables. Defaults to 64*1024 (65536) hash buckets.</p>
<p class="last"><strong>Example:</strong> connection hash buckets 65536</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>connection hash memory &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for each of the two bi-hash tables.
Defaults to 1073741824 bytes.</p>
<p class="last"><strong>Example:</strong> connection hash memory 1073741824</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>connection count max &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the maximum number of pool elements when allocating each per-worker
pool of sessions for both bi-hash tables. Defaults to 500000 elements in each pool.</p>
<p class="last"><strong>Example:</strong> connection count max 500000</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>main heap size &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Sets the size of the main memory heap that holds all the ACL module related
allocations (other than hash.) Default size is 0, but during
ACL heap initialization is equal to
<em>per_worker_size_with_slack * tm-&gt;n_vlib_mains + bihash_size + main_slack</em>.
Note that these variables are partially based on the
<strong>connection table per-interface parameters</strong> mentioned above.</p>
<p class="last"><strong>Example:</strong> main heap size 3G</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The next three parameters, <em>hash lookup heap size</em>, <em>hash lookup hash buckets</em>,
and <em>hash lookup hash memory</em>, modify the initialization of the bi-hash lookup
table used by the ACL plugin. This table is initialized when attempting to apply
an ACL to the existing vector of ACLs looked up during packet processing
(but it is found that the table does not exist / has not been initialized yet.)</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>hash lookup heap size  &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Sets the size of the memory heap that holds all the miscellaneous allocations
related to hash-based lookups. Default size is 67108864 bytes.</p>
<p class="last"><strong>Example:</strong> hash lookup heap size 70M</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>hash lookup hash buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets (rounded up to a power of 2) in the bi-hash
lookup table. Defaults to 65536 hash buckets.</p>
<p class="last"><strong>Example:</strong> hash lookup hash buckets 65536</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>hash lookup hash memory &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for the bi-hash lookup table.
Defaults to 67108864 bytes.</p>
<p class="last"><strong>Example:</strong> hash lookup hash memory 67108864</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>use tuple merge &lt;n&gt;</strong></dt>
<dd><p class="first">Sets a boolean value indicating whether or not to use TupleMerge
for hash ACL’s. Defaults to 1 (true), meaning the default implementation
of hashing ACL’s <strong>does use</strong> TupleMerge.</p>
<p class="last"><strong>Example:</strong> use tuple merge 1</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>tuple merge split threshold &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the maximum amount of rules (ACE’s) that can collide in a bi-hash
lookup table before the table is split into two new tables. Splitting ensures
less rule collisions by hashing colliding rules based on their common tuple
(usually their maximum common tuple.) Splitting occurs when the
<em>length of the colliding rules vector</em> is greater than this threshold amount.
Defaults to a maximum of 39 rule collisions per table.</p>
<p class="last"><strong>Example:</strong> tuple merge split threshold 30</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>reclassify sessions &lt;n&gt;</strong></dt>
<dd><p class="first">Sets a boolean value indicating whether or not to take the epoch of the session
into account when dealing with re-applying ACL’s or changing already applied ACL’s.
Defaults to 0 (false), meaning the default implementation <strong>does NOT</strong> take the
epoch of the session into account.</p>
<p class="last"><strong>Example:</strong> reclassify sessions 1</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="api-queue-parameters">
<span id="api-queue"></span><h3>“api-queue” Parameters<a class="headerlink" href="#api-queue-parameters" title="Permalink to this headline">¶</a></h3>
<p>The following parameters should only be set by those that are familiar with the
interworkings of VPP.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>length  &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the api queue length. Minimum valid queue length is 1024, which is
also the default.</p>
<p class="last"><strong>Example:</strong> length 2048</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="api-segment-parameters">
<span id="api-segment"></span><h3>“api-segment” Parameters<a class="headerlink" href="#api-segment-parameters" title="Permalink to this headline">¶</a></h3>
<p>These values control various aspects of the binary API interface to VPP.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>prefix &lt;path&gt;</strong></dt>
<dd><p class="first">Sets the prefix prepended to the name used for shared memory (SHM)
segments. The default is empty, meaning shared memory segments are created
directly in the SHM directory <em>‘/dev/shm’</em>. It is worth noting that on
many systems <em>‘/dev/shm’</em> is a symbolic link to somewhere else in the file
system; Ubuntu links it to <em>‘/run/shm’</em>.</p>
<p class="last"><strong>Example:</strong> prefix /run/shm</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>uid &lt;number|name&gt;</strong></dt>
<dd><p class="first">Sets the user ID or name that should be used to set the ownership of the
shared memory segments. Defaults to the same user that VPP is started
with, probably root.</p>
<p class="last"><strong>Example:</strong> uid root</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>gid &lt;number|name&gt;</strong></dt>
<dd><p class="first">Sets the group ID or name that should be used to set the ownership of the
shared memory segments. Defaults to the same group that VPP is started
with, probably root.</p>
<p class="last"><strong>Example:</strong> gid vpp</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The following parameters should only be set by those that are familiar with the
interworkings of VPP.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>baseva &lt;x&gt;</strong></dt>
<dd><p class="first">Set the base address for SVM global region. If not set, on AArch64, the
code will try to determine the base address. All other default to
0x30000000.</p>
<p class="last"><strong>Example:</strong> baseva 0x20000000</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>global-size &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;</strong></dt>
<dd><p class="first">Set the global memory size, memory shared across all router instances,
packet buffers, etc. If not set, defaults to 64M. The input value can be
set in GB, MB or bytes.</p>
<p class="last"><strong>Example:</strong> global-size 2G</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>global-pvt-heap-size &lt;n&gt;M|size &lt;n&gt;</strong></dt>
<dd><p class="first">Set the size of the global VM private mheap. If not set, defaults to 128k.
The input value can be set in MB or bytes.</p>
<p class="last"><strong>Example:</strong> global-pvt-heap-size size 262144</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>api-pvt-heap-size &lt;n&gt;M|size &lt;n&gt;</strong></dt>
<dd><p class="first">Set the size of the api private mheap. If not set, defaults to 128k.
The input value can be set in MB or bytes.</p>
<p class="last"><strong>Example:</strong> api-pvt-heap-size 1M</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>api-size &lt;n&gt;M|&lt;n&gt;G|&lt;n&gt;</strong></dt>
<dd><p class="first">Set the size of the API region. If not set, defaults to 16M. The input
value can be set in GB, MB or bytes.</p>
<p class="last"><strong>Example:</strong> api-size 64M</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="api-trace-parameters">
<span id="api-trace"></span><h3>“api-trace” Parameters<a class="headerlink" href="#api-trace-parameters" title="Permalink to this headline">¶</a></h3>
<p>The ability to trace, dump, and replay control-plane API traces makes all the
difference in the world when trying to understand what the control-plane has
tried to ask the forwarding-plane to do.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>on|enable</strong></dt>
<dd><p class="first">Enable API trace capture from the beginning of time, and arrange for a
post-mortem dump of the API trace if the application terminates abnormally.
By default, the (circular) trace buffer will be configured to capture
256K traces. The default <em>‘startup.conf’</em> file has trace enabled by default,
and unless there is a very strong reason, it should remain enabled.</p>
<p class="last"><strong>Example:</strong> on</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>nitems &lt;n&gt;</strong></dt>
<dd><p class="first">Configure the circular trace buffer to contain the last &lt;n&gt; entries. By
default, the trace buffer captures the last 256K API messages received.</p>
<p class="last"><strong>Example:</strong> nitems 524288</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>save-api-table &lt;filename&gt;</strong></dt>
<dd><p class="first">Dumps the API message table to /tmp/&lt;filename&gt;.</p>
<p class="last"><strong>Example:</strong> save-api-table apiTrace-07-04.txt</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Typically, one simply enables the API message trace scheme:</p>
<blockquote>
<div>api-trace { on }</div></blockquote>
</div>
<div class="section" id="buffers-parameters">
<span id="buffers"></span><h3>“buffers” Parameters<a class="headerlink" href="#buffers-parameters" title="Permalink to this headline">¶</a></h3>
<p>Command line Buffer configuration controls buffer management.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>memory-size-in-mb &lt;n&gt;</strong></dt>
<dd><p class="first">Configure the memory size used for buffers. If not set, VPP defaults
to 32MB.</p>
<p class="last"><strong>Example:</strong> memory-size-in-mb 64</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="cj-parameters">
<span id="cj"></span><h3>“cj” Parameters<a class="headerlink" href="#cj-parameters" title="Permalink to this headline">¶</a></h3>
<p>The circular journal (CJ) thread-safe circular log buffer scheme is
occasionally useful when chasing bugs. Calls to it should not be checked in.
See …/vlib/vlib/unix/cj.c. The circular journal is disables by default.
When enabled, the number of records must be provided, there is no default
value.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>records &lt;n&gt;</strong></dt>
<dd><p class="first">Configure the number of circular journal records in the circular buffer.
The number of records should be a power of 2.</p>
<p class="last"><strong>Example:</strong> records 131072</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>on</strong></dt>
<dd><p class="first">Turns on logging at the earliest possible moment.</p>
<p class="last"><strong>Example:</strong> on</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="dns-parameters">
<span id="dns"></span><h3>“dns” Parameters<a class="headerlink" href="#dns-parameters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>max-cache-size &lt;n&gt;</strong></dt>
<dd><p class="first">Set the maximum number of active elements allowed in the pool of
dns cache entries. When resolving an expired entry or adding a new
static entry and the max number of active entries is reached,
a random, non-static entry is deleted. Defaults to 65535 entries.</p>
<p class="last"><strong>Example:</strong> max-cache-size 65535</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>max-ttl &lt;n&gt;</strong></dt>
<dd><p class="first">Currently not implemented. Defaults to 86400 seconds (24 hours.)</p>
<p class="last"><strong>Example:</strong> max-ttl 86400</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="heapsize-parameters">
<span id="heapsize"></span><h3>“heapsize” Parameters<a class="headerlink" href="#heapsize-parameters" title="Permalink to this headline">¶</a></h3>
<p>Heapsize configuration controls the size of the main heap. The heap size is
configured very early in the boot sequence, before loading plug-ins or doing
much of anything else.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>heapsize &lt;n&gt;M|&lt;n&gt;G</strong></dt>
<dd><p class="first">Specifies the size of the heap in MB or GB. The default is 1GB. Setting the
main heap size to 4GB or more requires recompilation of the entire system
with CLIB_VEC64 &gt; 0. See …/clib/clib/vec_bootstrap.h.</p>
<p class="last"><strong>Example:</strong> heapsize 2G</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="ip-parameters">
<span id="ip"></span><h3>“ip” Parameters<a class="headerlink" href="#ip-parameters" title="Permalink to this headline">¶</a></h3>
<p>IPv4 heap configuration. he heap size is configured very early in the boot
sequence, before loading plug-ins or doing much of anything else.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>heap-size &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Set the IPv4 mtrie heap size, which is the amount of memory dedicated to
the destination IP lookup table. The input value can be set in GB, MB, KB
or bytes. The default value is 32MB.</p>
<p class="last"><strong>Example:</strong> heap-size 64M</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="ip6-parameters">
<span id="ip6"></span><h3>“ip6” Parameters<a class="headerlink" href="#ip6-parameters" title="Permalink to this headline">¶</a></h3>
<p>IPv6 heap configuration. he heap size is configured very early in the boot
sequence, before loading plug-ins or doing much of anything else.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>heap-size &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Set the IPv6 forwarding table heap size. The input value can be set in GB,
MB, KB or bytes. The default value is 32MB.</p>
<p class="last"><strong>Example:</strong> heap-size 64M</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>hash-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Set the number of IPv6 forwarding table hash buckets. The default value is
64K (65536).</p>
<p class="last"><strong>Example:</strong> hash-buckets 131072</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="l2learn-parameters">
<span id="l2learn"></span><h3>“l2learn” Parameters<a class="headerlink" href="#l2learn-parameters" title="Permalink to this headline">¶</a></h3>
<p>Configure Layer 2 MAC Address learning parameters.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>limit &lt;n&gt;</strong></dt>
<dd><p class="first">Configures the number of L2 (MAC) addresses in the L2 FIB at any one time,
which limits the size of the L2 FIB to &lt;n&gt; concurrent entries.  Defaults to
4M entries (4194304).</p>
<p class="last"><strong>Example:</strong> limit 8388608</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="l2tp-parameters">
<span id="l2tp"></span><h3>“l2tp” Parameters<a class="headerlink" href="#l2tp-parameters" title="Permalink to this headline">¶</a></h3>
<p>IPv6 Layer 2 Tunnelling Protocol Version 3 (IPv6-L2TPv3) configuration controls
the method used to locate a specific IPv6-L2TPv3 tunnel. The following settings
are mutually exclusive:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>lookup-v6-src</strong></dt>
<dd><p class="first">Lookup tunnel by IPv6 source address.</p>
<p class="last"><strong>Example:</strong> lookup-v6-src</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>lookup-v6-dst</strong></dt>
<dd><p class="first">Lookup tunnel by IPv6 destination address.</p>
<p class="last"><strong>Example:</strong> lookup-v6-dst</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>lookup-session-id</strong></dt>
<dd><p class="first">Lookup tunnel by L2TPv3 session identifier.</p>
<p class="last"><strong>Example:</strong> lookup-session-id</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="logging-parameters">
<span id="logging"></span><h3>“logging” Parameters<a class="headerlink" href="#logging-parameters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>size &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>unthrottle-time &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>default-log-level emerg|alertcrit|err|warn|notice|info|debug|disabled</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>default-syslog-log-level emerg|alertcrit|err|warn|notice|info|debug|disabled</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mactime-parameters">
<span id="mactime"></span><h3>“mactime” Parameters<a class="headerlink" href="#mactime-parameters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>lookup-table-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets in the mactime bi-hash lookup table.
Defaults to 128 buckets.</p>
<p class="last"><strong>Example:</strong> lookup-table-buckets 128</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>lookup-table-memory &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for the mactime bi-hash lookup table.
The input value can be set in GB, MB, KB or bytes. The default value is 262144
(256 &lt;&lt; 10) bytes or roughly 256KB.</p>
<p class="last"><strong>Example:</strong> lookup-table-memory 300K</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>timezone_offset &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the timezone offset from UTC. Defaults to an offset of -5 hours
from UTC (US EST / EDT.)</p>
<p class="last"><strong>Example:</strong> timezone_offset -5</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="map-parameters">
<span id="map"></span><h3>“map” Parameters<a class="headerlink" href="#map-parameters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>customer edge</strong></dt>
<dd><p class="first">Sets a boolean true to indicate that the MAP node is a Customer Edge (CE)
router. The boolean defaults to false, meaning the MAP node is not treated
as a CE router.</p>
<p class="last"><strong>Example:</strong> customer edge</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mc-parameters">
<span id="mc"></span><h3>“mc” Parameters<a class="headerlink" href="#mc-parameters" title="Permalink to this headline">¶</a></h3>
<p>MC Test Process.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>interface &lt;name&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>n-bytes &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>max-n-bytes &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>min-n-bytes &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>seed &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>window &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>verbose</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> verbose</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>no-validate</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> no-validate</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>min-delay &lt;n.n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>max-delay &lt;n.n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>no-delay</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> no-delay</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>n-packets &lt;n.n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="nat-parameters">
<span id="nat"></span><h3>“nat” Parameters<a class="headerlink" href="#nat-parameters" title="Permalink to this headline">¶</a></h3>
<p>These parameters change the configuration of the NAT (Network address translation)
plugin, such as how the NAT &amp; NAT64 bi-hash tables are initialized, if the NAT is
endpoint dependent, or if the NAT is deterministic.</p>
<p>For each NAT per thread data, the following 4 parameters change how certain
bi-hash tables are initialized.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>translation hash buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets in each of the two in/out NAT bi-hash lookup
tables. Defaults to 1024 buckets.</p>
<p>If the NAT is indicated to be endpoint dependent, which can be set with the
<a class="reference internal" href="#endpointlabel"><span class="std std-ref">endpoint-dependent parameter</span></a>, then this parameter sets
the number of hash buckets in each of the two endpoint dependent sessions
NAT bi-hash lookup tables.</p>
<p class="last"><strong>Example:</strong> translation hash buckets 1024</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>translation hash memory &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for each of the two in/out NAT
bi-hash tables. Defaults to 134217728 (128 &lt;&lt; 20) bytes, which is roughly 128 MB.</p>
<p>If the NAT is indicated to be endpoint dependent, which can be set with the
<a class="reference internal" href="#endpointlabel"><span class="std std-ref">endpoint-dependent parameter</span></a>, then this parameter sets the
allocated memory size for each of the two endpoint dependent sessions NAT bi-hash
lookup tables.</p>
<p class="last"><strong>Example:</strong> translation hash memory 134217728</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>user hash buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets in the user bi-hash lookup table
(src address lookup for a user.) Defaults to 128 buckets.</p>
<p class="last"><strong>Example:</strong> user hash buckets 128</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>user hash memory &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for the user bi-hash lookup table
(src address lookup for a user.) Defaults to 67108864 (64 &lt;&lt; 20) bytes,
which is roughly 64 MB.</p>
<p class="last"><strong>Example:</strong> user hash memory 67108864</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>max translations per user &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the maximum amount of dynamic and/or static NAT sessions each user can have.
Defaults to 100. When this limit is reached, the least recently used translation
is recycled.</p>
<p class="last"><strong>Example:</strong> max translations per user 50</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>outside VRF id &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>outside ip6 VRF id &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>inside VRF id &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>inside VRF id &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>static mapping only</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> static mapping only</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>connection tracking</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> connection tracking</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>deterministic</strong></dt>
<dd><p class="first">Sets a boolean value to 1 indicating that the NAT is deterministic. Defaults to 0,
meaning the NAT is not deterministic.</p>
<p class="last"><strong>Example:</strong> deterministic</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>nat64 bib hash buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets in each of the two in/out NAT64 BIB bi-hash
tables. Defaults to 1024 buckets.</p>
<p class="last"><strong>Example:</strong> nat64 bib hash buckets 1024</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>nat64 bib hash memory &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for each of the two in/out NAT64
BIB bi-hash tables. Defaults to 134217728 (128 &lt;&lt; 20) bytes,
which is roughly 128 MB.</p>
<p class="last"><strong>Example:</strong> nat64 bib hash memory 134217728</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>nat64 st hash buckets &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of hash buckets in each of the two in/out NAT64 session table
bi-hash tables. Defaults to 2048 buckets.</p>
<p class="last"><strong>Example:</strong> nat64 st hash buckets 2048</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>nat64 st hash memory &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the allocated memory size (in bytes) for each of the two in/out NAT64 session
table bi-hash tables. Defaults to 268435456 (256 &lt;&lt; 20) bytes, which is roughly
256 MB.</p>
<p class="last"><strong>Example:</strong> nat64 st hash memory 268435456</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>out2in dpo</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> out2in dpo</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>dslite ce</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> dslite ce</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<blockquote id="endpointlabel">
<div><ul>
<li><dl class="first docutils">
<dt><strong>endpoint-dependent</strong></dt>
<dd><p class="first">Sets a boolean value to 1, indicating that the NAT is endpoint dependent.
Defaults to 0, meaning the NAT is not endpoint dependent.</p>
<p class="last"><strong>Example:</strong> endpoint-dependent</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="oam-parameters">
<span id="oam"></span><h3>“oam” Parameters<a class="headerlink" href="#oam-parameters" title="Permalink to this headline">¶</a></h3>
<p>OAM configuration controls the (ip4-icmp) interval, and number of misses
allowed before reporting an oam target down to any registered listener.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>interval &lt;n.n&gt;</strong></dt>
<dd><p class="first">Interval, floating-point seconds, between sending OAM IPv4 ICMP messages.
Default is 2.04 seconds.</p>
<p class="last"><strong>Example:</strong> interval 3.5</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>misses-allowed &lt;n&gt;</strong></dt>
<dd><p class="first">Number of misses before declaring an OAM target down. Default is 3 misses.</p>
<p class="last"><strong>Example:</strong> misses-allowed 5</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="plugins-parameters">
<span id="plugins"></span><h3>“plugins” Parameters<a class="headerlink" href="#plugins-parameters" title="Permalink to this headline">¶</a></h3>
<p>A plugin can be disabled by default. It may still be in an experimental phase
or only be needed in special circumstances. If this is the case, the plugin can
be explicitely enabled in <em>‘startup.conf’</em>. Also, a plugin that is enabled by
default can be explicitely disabled in <em>‘startup.conf’</em>.</p>
<p>Another useful use of this section is to disable all the plugins, then enable
only the plugins that are desired.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>path &lt;path&gt;</strong></dt>
<dd><p class="first">Adjust the plugin path depending on where the VPP plugins are installed.</p>
<p class="last"><strong>Example:</strong> path /home/bms/vpp/build-root/install-vpp-native/vpp/lib/vpp_plugins</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>name-filter &lt;filter-name&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>vat-path &lt;path&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>vat-name-filter &lt;filter-name&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>plugin &lt;plugin.so&gt; { .. }</strong></dt>
<dd><p class="first">Configure parameters for a given plugin. Valid parameters are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt><strong>enable</strong></dt>
<dd>Enable the given plugin.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>disable</strong></dt>
<dd>Disable the given plugin.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>skip-version-check</strong></dt>
<dd>In the plugin registration, if <em>‘.version_required’</em> is set, the
plugin will not be loaded if there is version mismatch between
plugin and VPP. This can be bypassed by setting “skip-version-check”
for specific plugin.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p class="last"><strong>Example:</strong> plugin ila_plugin.so { enable skip-version-check }</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>plugin default { .. }</strong></dt>
<dd><p class="first">Set the default behavior for all plugins. Valid parameters are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt><strong>disable</strong></dt>
<dd>Disable all plugins.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="last docutils">
<dt><strong>Example:</strong></dt>
<dd><div class="first last line-block">
<div class="line">plugin default { disable }</div>
<div class="line">plugin dpdk_plugin.so { enable }</div>
<div class="line">plugin acl_plugin.so { enable }</div>
</div>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="plugin-path-parameters">
<span id="plugin-path"></span><h3>“plugin_path” Parameters<a class="headerlink" href="#plugin-path-parameters" title="Permalink to this headline">¶</a></h3>
<p>Alternate syntax to choose plugin path. Plugin_path configuration controls the
set of directories searched for vlib plugins. Supply a colon-separated list of
(absolute) directory names: plugin_path dir1:dir2:…:dirN</p>
<blockquote>
<div><strong>Example:</strong> plugin_path /home/bms/vpp/build-root/install-vpp-native/vpp/lib/vpp_plugins</div></blockquote>
</div>
<div class="section" id="punt-parameters">
<span id="punt"></span><h3>“punt” Parameters<a class="headerlink" href="#punt-parameters" title="Permalink to this headline">¶</a></h3>
<p>Configuration parameters for the local TCP/IP stack punt infrastructure.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>socket &lt;path&gt;</strong></dt>
<dd><p class="first">The filesystem pathname of a bound UNIX domain socket to be used with punt.</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="session-parameters">
<span id="session"></span><h3>“session” Parameters<a class="headerlink" href="#session-parameters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>event-queue-length &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>preallocated-sessions &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v4-session-table-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v4-halfopen-table-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v6-session-table-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v6-halfopen-table-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v4-session-table-memory &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">TBD
The input value can be set in GB, MB, KB or bytes.</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v4-halfopen-table-memory &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">TBD
The input value can be set in GB, MB, KB or bytes.</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v6-session-table-memory &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">TBD
The input value can be set in GB, MB, KB or bytes.</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>v6-halfopen-table-memory &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">TBD
The input value can be set in GB, MB, KB or bytes.</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>local-endpoints-table-memory &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">TBD
The input value can be set in GB, MB, KB or bytes.</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>local-endpoints-table-buckets &lt;n&gt;</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> TBD</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>evt_qs_memfd_seg</strong></dt>
<dd><p class="first">TBD</p>
<p class="last"><strong>Example:</strong> evt_qs_memfd_seg</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="socketsvr-parameters">
<span id="socketsvr"></span><h3>“socketsvr” Parameters<a class="headerlink" href="#socketsvr-parameters" title="Permalink to this headline">¶</a></h3>
<p>Create a socket server for API server (…/vlibmemory/socksvr_vlib.c.).
If not set, API server doesn’t run.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>socket-name &lt;filename&gt;</strong></dt>
<dd><p class="first">Configure API socket filename.</p>
<p class="last"><strong>Example:</strong> socket-name /run/vpp/vpp-api.sock</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>default</strong></dt>
<dd><p class="first">Use the default API socket (/run/vpp-api.sock).</p>
<p class="last"><strong>Example:</strong> default</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="stats-parameters">
<span id="stats"></span><h3>“stats” Parameters<a class="headerlink" href="#stats-parameters" title="Permalink to this headline">¶</a></h3>
<p>Create a socket server for <em>‘stats’</em> poller. If not set, ‘stats’* poller
doesn’t run.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>socket-name &lt;filename&gt;</strong></dt>
<dd><p class="first">Configure <em>‘stats’</em> socket filename.</p>
<p class="last"><strong>Example:</strong> socket-name /run/vpp/stats.sock</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>default</strong></dt>
<dd><p class="first">Use the default <em>‘stats’</em> socket (/run/vpp/stats.sock).</p>
<p class="last"><strong>Example:</strong> default</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="statseg-parameters">
<span id="statseg"></span><h3>“statseg” Parameters<a class="headerlink" href="#statseg-parameters" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>size &lt;n&gt;G|&lt;n&gt;M|&lt;n&gt;K|&lt;n&gt;</strong></dt>
<dd><p class="first">Sets the size of the memory mapped stats segment object <em>stat_segment</em>.
The input value can be set in GB, MB, KB or bytes. Defaults to 33554432
(32 &lt;&lt; 20) bytes or roughly 32 MB.</p>
<p class="last"><strong>Example:</strong> size 32M</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tapcli-parameters">
<span id="tapcli"></span><h3>“tapcli” Parameters<a class="headerlink" href="#tapcli-parameters" title="Permalink to this headline">¶</a></h3>
<p>Configuration parameters for TAPCLI (dynamic tap interface hookup.)</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>mtu &lt;n&gt;</strong></dt>
<dd><p class="first">Sets interface MTU (maximum transmission unit) size in bytes. This size
is also related to the number of MTU buffers. Defaults to 1500 bytes.</p>
<p class="last"><strong>Example:</strong> mtu 1500</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>disable</strong></dt>
<dd><p class="first">Disables TAPCLI. Default is that TAPCLI is enabled.</p>
<p class="last"><strong>Example:</strong> disable</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tcp-parameters">
<span id="tcp"></span><h3>“tcp” Parameters<a class="headerlink" href="#tcp-parameters" title="Permalink to this headline">¶</a></h3>
<p>Configuration parameters for TCP host stack utilities. The following
preallocation parameters are related to the initialization of fixed-size,
preallocation pools.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>preallocated-connections &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of preallocated TCP connections. Defaults to 0.
The preallocated connections per thread is related to this value,
equal to (preallocated_connections / (num_threads - 1)).</p>
<p class="last"><strong>Example:</strong> preallocated-connections 5</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>preallocated-half-open-connections &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of preallocated TCP half-open connections. Defaults to 0.</p>
<p class="last"><strong>Example:</strong> preallocated-half-open-connections 5</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>buffer-fail-fraction &lt;n.n&gt;</strong></dt>
<dd><p class="first">Sets the TCP buffer fail fraction (a float) used for fault-injection
when debugging TCP buffer allocation. Its use is found in <em>tcp_debug.h</em>.
Defaults to 0.0.</p>
<p class="last"><strong>Example:</strong> buffer-fail-fraction 0.0</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tls-parameters">
<span id="tls"></span><h3>“tls” Parameters<a class="headerlink" href="#tls-parameters" title="Permalink to this headline">¶</a></h3>
<p>Configures TLS parameters, such as enabling the use of test certificates.
These parameters affect the tlsmbedtls and tlsopenssl plugins.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>use-test-cert-in-ca</strong></dt>
<dd><p class="first">Sets a boolean value to 1 to indicate during the initialization of a
TLS CA chain to attempt to parse and add test certificates to the chain.
Defaults to 0, meaning test certificates are not used.</p>
<p class="last"><strong>Example:</strong> use-test-cert-in-ca</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>ca-cert-path &lt;filename&gt;</strong></dt>
<dd><p class="first">Sets the filename path of the location of TLS CA certificates, used when
initializing and loading TLS CA certificates during the initialization
of a TLS CA chain. If not set, the default filename path is
<em>/etc/ssl/certs/ca-certificates.crt</em>.</p>
<p class="last"><strong>Example:</strong> ca-cert-path /etc/ssl/certs/ca-certificates.crt</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="tuntap-parameters">
<span id="tuntap"></span><h3>“tuntap” Parameters<a class="headerlink" href="#tuntap-parameters" title="Permalink to this headline">¶</a></h3>
<p>The “tuntap” driver configures a point-to-point interface between the vpp
engine and the local Linux kernel stack. This allows e.g. users to ssh to the
host | VM | container via vpp “revenue” interfaces. It’s marginally useful, and
is currently disabled by default. To [dynamically] create TAP interfaces - the
preferred scheme - see the “tap_connect” binary API. The Linux network stack
“vnet” interface needs to manually configure, and VLAN and other settings if
desired.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>enable|disable</strong></dt>
<dd><p class="first">Enable or disable the tun/tap driver.</p>
<p class="last"><strong>Example:</strong> enable</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>ethernet|ether</strong></dt>
<dd><p class="first">Create a tap device (ethernet MAC) instead of a tun device (point-to-point
tunnel). The two keywords are aliases for the same function.</p>
<p class="last"><strong>Example:</strong> ethernet</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>have-normal-interface|have-normal</strong></dt>
<dd><p class="first">Treat the host Linux stack as a routing peer instead of programming VPP
interface L3 addresses onto the tun/tap devices. The two keywords are
aliases for the same function.</p>
<p class="last"><strong>Example:</strong> have-normal-interface</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>name &lt;name&gt;</strong></dt>
<dd><p class="first">Assign name to the tun/tap device.</p>
<p class="last"><strong>Example:</strong> name vpp1</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>Here’s a typical multiple parameter invocation:</p>
<blockquote>
<div><div class="line-block">
<div class="line">tuntap { ethernet have-normal-interface name vpp1 }</div>
</div>
</div></blockquote>
</div>
<div class="section" id="vhost-user-parameters">
<span id="vhost-user"></span><h3>“vhost-user” Parameters<a class="headerlink" href="#vhost-user-parameters" title="Permalink to this headline">¶</a></h3>
<p>Vhost-user configuration parameters control the vhost-user driver.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>coalesce-frames &lt;n&gt;</strong></dt>
<dd><p class="first">Subject to deadline-timer expiration - see next item - attempt to transmit
at least &lt;n&gt; packet frames. Default is 32 frames.</p>
<p class="last"><strong>Example:</strong> coalesce-frames 64</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>coalesce-time &lt;seconds&gt;</strong></dt>
<dd><p class="first">Hold packets no longer than (floating-point) seconds before transmitting
them. Default is 0.001 seconds</p>
<p class="last"><strong>Example:</strong> coalesce-time 0.002</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>dont-dump-memory</strong></dt>
<dd><p class="first">vhost-user shared-memory segments can add up to a large amount of memory, so
it’s handy to avoid adding them to corefiles when using a significant number
of such interfaces.</p>
<p class="last"><strong>Example:</strong> dont-dump-memory</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="vlib-parameters">
<span id="vlib"></span><h3>“vlib” Parameters<a class="headerlink" href="#vlib-parameters" title="Permalink to this headline">¶</a></h3>
<p>These parameters configure VLIB, such as allowing you to choose whether to
enable memory traceback or a post-mortem elog dump.</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><strong>memory-trace</strong></dt>
<dd><p class="first">Enables memory trace (mheap traceback.) Defaults to 0, meaning memory
trace is disabled.</p>
<p class="last"><strong>Example:</strong> memory-trace</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>elog-events &lt;n&gt;</strong></dt>
<dd><p class="first">Sets the number of elements/events (the size) of the event ring
(a circular buffer of events.) This number rounds to a power of 2.
Defaults to 131072 (128 &lt;&lt; 10) elements.</p>
<p class="last"><strong>Example:</strong> elog-events 4096</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><strong>elog-post-mortem-dump</strong></dt>
<dd><p class="first">Enables the attempt of a post-mortem elog dump to
<em>/tmp/elog_post_mortem.&lt;PID_OF_CALLING_PROCESS&gt;</em> if os_panic or
os_exit is called.</p>
<p class="last"><strong>Example:</strong> elog-post-mortem-dump</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../running/index.html" class="btn btn-neutral float-right" title="Running VPP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hugepages.html" class="btn btn-neutral" title="Huge Pages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Linux Foundation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>