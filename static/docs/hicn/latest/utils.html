

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Utility applications &mdash; Hybrid ICN 20.01 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/rules.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Applications" href="apps.html" />
    <link rel="prev" title="Telemetry" href="telemetry.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Hybrid ICN
          

          
            
            <img src="_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="lib.html">Core Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="vpp-plugin.html">VPP plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="transport.html">The Transport Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="hicn-light.html">Portable Forwarder</a></li>
<li class="toctree-l1"><a class="reference internal" href="interface.html">Face Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="control.html">Control Plane Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="telemetry.html">Telemetry</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utility applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-hicn-utils-applications">Using hICN Utils applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#executables">Executables</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hicn-ping-server">hicn-ping-server</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hicn-ping-client">hicn-ping-client</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hiperf">hiperf</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#client-server-benchmarking-using-hiperf">Client-Server Benchmarking using hiperf</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#hicn-light-daemon">hicn-light-daemon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hicn-light-forwarder-with-udp-faces">hicn-light forwarder with UDP faces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hicn-light-forwarder-with-hicn-faces">hicn-light forwarder with hICN faces</a></li>
<li class="toctree-l4"><a class="reference internal" href="#server">Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#client">Client</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#vpp-based-hicn-plugin">VPP based hicn-plugin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Hybrid ICN</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Utility applications</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utils.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="utility-applications">
<h1>Utility applications<a class="headerlink" href="#utility-applications" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>hicn-ping-server, hicn-ping-client and hiperf are three utility applications for testing and benchmarking stack.</p>
</div>
<div class="section" id="using-hicn-utils-applications">
<h2>Using hICN Utils applications<a class="headerlink" href="#using-hicn-utils-applications" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h3>
<p>Build dependencies:</p>
<ul class="simple">
<li><p>C++14 ( clang++ / g++ )</p></li>
<li><p>CMake 3.4</p></li>
</ul>
<p>Basic dependencies:</p>
<ul class="simple">
<li><p>ppenSSL</p></li>
<li><p>pthreads</p></li>
<li><p>libevent</p></li>
<li><p>libparc</p></li>
<li><p>libhicntransport</p></li>
</ul>
</div>
</div>
<div class="section" id="executables">
<h2>Executables<a class="headerlink" href="#executables" title="Permalink to this headline">¶</a></h2>
<p>The utility applications are a set of binary executables consisting of a client/server ping applications (hicn-ping-server and hicn-ping-client) and a hicn implementation of hicn (hiperf).</p>
<div class="section" id="hicn-ping-server">
<h3>hicn-ping-server<a class="headerlink" href="#hicn-ping-server" title="Permalink to this headline">¶</a></h3>
<p>The command <code class="docutils literal notranslate"><span class="pre">hicn-ping-server</span></code> runs the server side ping application. hicn-ping-server can be executed
with the following options:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>usage: hicn-ping-server <span class="o">[</span>options<span class="o">]</span>

Options:
-s &lt;content_size&gt;           <span class="o">=</span> object content size <span class="o">(</span>default 1350B<span class="o">)</span>
-n &lt;hicn_name&gt;              <span class="o">=</span> hicn name <span class="o">(</span>default b001::/64<span class="o">)</span>
-f                          <span class="o">=</span> <span class="nb">set</span> tcp flags according to the flag received <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-l &lt;lifetime&gt;               <span class="o">=</span> data lifetime
-r                          <span class="o">=</span> always reply with a reset flag <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-t &lt;ttl&gt;                    <span class="o">=</span> <span class="nb">set</span> ttl <span class="o">(</span>default <span class="m">64</span><span class="o">)</span>
-V                          <span class="o">=</span> verbose, prints statistics about the messagges sent and received <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-D                          <span class="o">=</span> dump, dumps sent and received packets <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-q                          <span class="o">=</span> quite, not prints <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-d                          <span class="o">=</span> daemon mode
-H                          <span class="o">=</span> <span class="nb">help</span>

Example:
hicn-ping-server -n c001::/64
</pre></div>
</div>
</div>
<div class="section" id="hicn-ping-client">
<h3>hicn-ping-client<a class="headerlink" href="#hicn-ping-client" title="Permalink to this headline">¶</a></h3>
<p>The command <code class="docutils literal notranslate"><span class="pre">hicn-ping-client</span></code> runs the client side ping application. hicn-ping-client can be executed
with the following options:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>usage: hicn-ping-client <span class="o">[</span>options<span class="o">]</span>

Options:
-i &lt;ping_interval&gt;          <span class="o">=</span> ping interval in microseconds <span class="o">(</span>default 1000000ms<span class="o">)</span>
-m &lt;max_pings&gt;              <span class="o">=</span> maximum number of pings to send <span class="o">(</span>default <span class="m">10</span><span class="o">)</span>
-s &lt;source_port&gt;            <span class="o">=</span> <span class="nb">source</span> port <span class="o">(</span>default <span class="m">9695</span><span class="o">)</span>
-d &lt;destination_port&gt;       <span class="o">=</span> destination port <span class="o">(</span>default <span class="m">8080</span><span class="o">)</span>
-t &lt;ttl&gt;                    <span class="o">=</span> <span class="nb">set</span> packet ttl <span class="o">(</span>default <span class="m">64</span><span class="o">)</span>
-O                          <span class="o">=</span> open tcp connection <span class="o">(</span>three way handshake<span class="o">)</span> <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-S                          <span class="o">=</span> send always syn messages <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-A                          <span class="o">=</span> send always ack messages <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-n &lt;hicn_name&gt;              <span class="o">=</span> hicn name <span class="o">(</span>default b001::1<span class="o">)</span>
-l &lt;lifetime&gt;               <span class="o">=</span> interest lifetime in milliseconds <span class="o">(</span>default 500ms<span class="o">)</span>
-V                          <span class="o">=</span> verbose, prints statistics about the messagges sent and received <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-D                          <span class="o">=</span> dump, dumps sent and received packets <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-q                          <span class="o">=</span> quiet, not prints <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-H                          <span class="o">=</span> <span class="nb">help</span>

Example:
hicn-ping-client -n c001::1
</pre></div>
</div>
</div>
<div class="section" id="hiperf">
<h3>hiperf<a class="headerlink" href="#hiperf" title="Permalink to this headline">¶</a></h3>
<p>The command <code class="docutils literal notranslate"><span class="pre">hiperf</span></code> is a tool for performing network throughput measurements with hicn. It can be executed as server or client using the following options:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>usage: hiperf <span class="o">[</span>-S<span class="p">|</span>-C<span class="o">]</span> <span class="o">[</span>options<span class="o">]</span> <span class="o">[</span>prefix<span class="p">|</span>name<span class="o">]</span>

Options:
-D                          <span class="o">=</span> run as a daemon
-R                          <span class="o">=</span> run RTC protocol <span class="o">(</span>client or server<span class="o">)</span>
-f &lt;ouptup_log_file&gt;        <span class="o">=</span> output log file path

Server specific:
-A &lt;download_size&gt;          <span class="o">=</span> size of the content to publish. This is not the size of the packet <span class="o">(</span>see -s <span class="k">for</span> it<span class="o">)</span>
-s &lt;payload_size&gt;           <span class="o">=</span> size of the payload of each data packet
-r                          <span class="o">=</span> produce real content of content_size bytes
-m                          <span class="o">=</span> produce transport manifest
-l                          <span class="o">=</span> start producing content upon the reception of the first interest
-k &lt;keystore_path&gt;          <span class="o">=</span> path of p12 file containing the crypto material used <span class="k">for</span> signing the packets
-y &lt;hash_algorithm&gt;         <span class="o">=</span> use the selected <span class="nb">hash</span> algorithm <span class="k">for</span> calculating manifest digests
-p &lt;password&gt;               <span class="o">=</span> password <span class="k">for</span> p12 keystore
-x                          <span class="o">=</span> produce a content of &lt;download_size&gt;, <span class="k">then</span> after downloading it produces a new 
                              content of &lt;download_size&gt; without resetting the suffix to <span class="m">0</span>
-B  &lt;bitrate&gt;               <span class="o">=</span> bitrate <span class="k">for</span> RTC producer, to be used with the -R option, in kbps <span class="o">(</span>example: 64kbps<span class="o">)</span>

Client specific:
-b &lt;beta_parameter&gt;         <span class="o">=</span> RAAQM beta parameter
-d &lt;drop_factor_parameter&gt;  <span class="o">=</span> RAAQM drop factor parameter
-M                          <span class="o">=</span> store the content downloaded <span class="o">(</span>default <span class="nb">false</span><span class="o">)</span>
-W &lt;window_size&gt;            <span class="o">=</span> use a fixed congestion window <span class="k">for</span> retrieving the data
-c &lt;certificate_path&gt;       <span class="o">=</span> path of the producer certificate to be used <span class="k">for</span> verifying the origin of the packets received
-i &lt;stats_interval&gt;         <span class="o">=</span> show the statistics every &lt;stats_interval&gt; milliseconds
-v                          <span class="o">=</span> Enable verification of received data

Example:
hiperf -S c001::/64
</pre></div>
</div>
</div>
</div>
<div class="section" id="client-server-benchmarking-using-hiperf">
<h2>Client-Server Benchmarking using hiperf<a class="headerlink" href="#client-server-benchmarking-using-hiperf" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hicn-light-daemon">
<h3>hicn-light-daemon<a class="headerlink" href="#hicn-light-daemon" title="Permalink to this headline">¶</a></h3>
<p>This tutorial will explain how to configure a simple client-server topology and retrieve network measurements using the hiperf utility.</p>
<p>We consider this simple topology, consisting on two linux VM which are able to communicate through an IP network (you can also use containers or physical machines):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>|client (10.0.0.1/24; 9001::1/64)|======|server (10.0.0.2/24; 9001::2/64)|
</pre></div>
</div>
<p>Install the hICN suite on two linux VM. This tutorial makes use of Ubuntu 18.04, but it could easily be adapted to other platforms.
You can either install the hICN stack using binaries or compile the code. In this tutorial we will build the code from source.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -s https://packagecloud.io/install/repositories/fdio/release/script.deb.sh <span class="p">|</span> sudo bash
$ apt-get install -y git <span class="se">\</span>
                    cmake <span class="se">\</span>
                    build-essential <span class="se">\</span>
                    libasio-dev <span class="se">\</span>
                    libcurl4-openssl-dev <span class="se">\</span>
                    libparc-dev <span class="se">\</span>
                    --no-install-recommends

$ mkdir hicn-suite <span class="o">&amp;&amp;</span> <span class="nb">cd</span> hicn-suite
$ git clone https://github.com/FDio/hicn hicn-src
$ mkdir hicn-build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> hicn-build
$ cmake ../hicn-src -DCMAKE_BUILD_TYPE<span class="o">=</span>Release -DCMAKE_INSTALL_PREFIX<span class="o">=</span>../hicn-install -DBUILD_APPS<span class="o">=</span>ON
$ make -j <span class="m">4</span> install
$ <span class="nb">export</span> <span class="nv">HICN_ROOT</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/../hicn-install
</pre></div>
</div>
<p>It should install the hICN suite under hicn-install.</p>
<div class="section" id="hicn-light-forwarder-with-udp-faces">
<h4>hicn-light forwarder with UDP faces<a class="headerlink" href="#hicn-light-forwarder-with-udp-faces" title="Permalink to this headline">¶</a></h4>
<div class="section" id="server-configuration">
<h5>Server Configuration<a class="headerlink" href="#server-configuration" title="Permalink to this headline">¶</a></h5>
<p>Create a configuration file for the hicn-light forwarder. Here we are configuring UDP faces.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>server$ mkdir -p <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/etc
server$ <span class="nv">LOCAL_IP</span><span class="o">=</span><span class="s2">&quot;10.0.0.1&quot;</span> <span class="c1"># Put here the actual IPv4 of the local interface</span>
server$ <span class="nv">LOCAL_PORT</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span>
server$ cat <span class="s">&lt;&lt; EOF &gt; ${HICN_ROOT}/etc/hicn-light.conf</span>
<span class="s">add listener udp list0 ${LOCAL_IP} ${LOCAL_PORT}</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>Start the hicn-light forwarder</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>server$ sudo <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/bin/hicn-light-daemon --daemon --capacity <span class="m">0</span> --log-file <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/hicn-light.log --config <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/etc/hicn-light.conf
</pre></div>
</div>
<p>We set the forwarder capacity to 0 because we want to measure the end-to-end performance without retrieving any data packet from intermediate caches.</p>
<p>Run the <a class="reference external" href="#hiperf">hiperf</a> server.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>server$ <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/bin/hiperf -S b001::/64
</pre></div>
</div>
<p>The hiperf server will register the prefix b001::/64 on the local forwarder and will reply with pre-allocated data packet.  In this test we won’t consider segmentation and reassembly cost.</p>
</div>
<div class="section" id="client-configuration">
<h5>Client Configuration<a class="headerlink" href="#client-configuration" title="Permalink to this headline">¶</a></h5>
<p>Create a configuration file for the hicn-light forwarder at the client. Here we are configuring UDP faces.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>client$ mkdir -p <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/etc
client$ <span class="nv">LOCAL_IP</span><span class="o">=</span><span class="s2">&quot;10.0.0.2&quot;</span> <span class="c1"># Put here the actual IPv4 of the local interface</span>
client$ <span class="nv">LOCAL_PORT</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span>
client$ <span class="nv">REMOTE_IP</span><span class="o">=</span><span class="s2">&quot;10.0.0.1&quot;</span> <span class="c1"># Put here the actual IPv4 of the remote interface</span>
client$ <span class="nv">REMOTE_PORT</span><span class="o">=</span><span class="s2">&quot;12345&quot;</span>
client$ cat <span class="s">&lt;&lt; EOF &gt; ${HICN_ROOT}/etc/hicn-light.conf</span>
<span class="s">add listener udp list0 ${LOCAL_IP} ${LOCAL_PORT}</span>
<span class="s">add connection udp conn0 ${REMOTE_IP} ${REMOTE_PORT} ${LOCAL_IP} ${LOCAL_PORT}</span>
<span class="s">add route conn0 b001::/16 1</span>
<span class="s">EOF</span>
</pre></div>
</div>
<p>Run the hicn-light forwarder</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>client$ sudo <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/bin/hicn-light-daemon --daemon --capacity <span class="m">1000</span> --log-file <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/hicn-light.log --config <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/etc/hicn-light.conf
</pre></div>
</div>
<p>Run the <a class="reference external" href="#hiperf">hiperf</a> client:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>client$ <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/bin/hiperf -C b001::1 -W <span class="m">50</span>
EOF
</pre></div>
</div>
<p>This will run the client with a fixed window of 50 interests.</p>
</div>
</div>
<div class="section" id="hicn-light-forwarder-with-hicn-faces">
<h4>hicn-light forwarder with hICN faces<a class="headerlink" href="#hicn-light-forwarder-with-hicn-faces" title="Permalink to this headline">¶</a></h4>
<p>For sending hICN packets directly over the network, using hicn faces, change the configuration of the two forwarders and restart them.</p>
</div>
<div class="section" id="server">
<h4>Server<a class="headerlink" href="#server" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>server$ mkdir -p <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/etc
server$ <span class="nv">LOCAL_IP</span><span class="o">=</span><span class="s2">&quot;9001::1&quot;</span>
server$ cat <span class="s">&lt;&lt; EOF &gt; ${HICN_ROOT}/etc/hicn-light.conf</span>
<span class="s">add listener hicn lst 0::0</span>
<span class="s">add punting lst b001::/16</span>
<span class="s">add listener hicn list0 ${LOCAL_IP}</span>
<span class="s">EOF</span>
</pre></div>
</div>
</div>
<div class="section" id="client">
<h4>Client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h4>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>client$ mkdir -p <span class="si">${</span><span class="nv">HICN_ROOT</span><span class="si">}</span>/etc
client$ <span class="nv">LOCAL_IP</span><span class="o">=</span><span class="s2">&quot;9001::2&quot;</span>
client$ <span class="nv">REMOTE_IP</span><span class="o">=</span><span class="s2">&quot;9001::1&quot;</span>
client$ cat <span class="s">&lt;&lt; EOF &gt; ${HICN_ROOT}/etc/hicn-light.conf</span>
<span class="s">add listener hicn lst 0::0</span>
<span class="s">add punting lst b001::/16</span>
<span class="s">add listener hicn list0 ${LOCAL_IP}</span>
<span class="s">add connection hicn conn0 ${REMOTE_IP} ${LOCAL_IP}</span>
<span class="s">add route conn0 b001::/16 1</span>
<span class="s">EOF</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="vpp-based-hicn-plugin">
<h3>VPP based hicn-plugin<a class="headerlink" href="#vpp-based-hicn-plugin" title="Permalink to this headline">¶</a></h3>
<p>Compile the hicn stack enabling the <a class="reference external" href="https://github.com/FDio/vpp">vpp</a> support.</p>
<p>In this example we will do a local hiperf client-server communication.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl -s https://packagecloud.io/install/repositories/fdio/release/script.deb.sh <span class="p">|</span> sudo bash
$ apt-get install -y git <span class="se">\</span>
                    cmake <span class="se">\</span>
                    build-essential <span class="se">\</span>
                    libasio-dev <span class="se">\</span>
                    libcurl4-openssl-dev <span class="se">\</span>
                    libparc-dev <span class="se">\</span>
                    vpp libvppinfra vpp-plugin-core vpp-dev python3-ply python python-ply <span class="se">\</span>
                    --no-install-recommends

$ mkdir hicn-suite <span class="o">&amp;&amp;</span> <span class="nb">cd</span> hicn-suite
$ git clone https://github.com/FDio/hicn hicn-src
$ mkdir hicn-build <span class="o">&amp;&amp;</span> <span class="nb">cd</span> hicn-build
$ cmake ../hicn-src -DCMAKE_BUILD_TYPE<span class="o">=</span>Release -DCMAKE_INSTALL_PREFIX<span class="o">=</span>/usr -DBUILD_APPS<span class="o">=</span>ON -DBUILD_HICNPLUGIN<span class="o">=</span>ON
$ sudo make -j <span class="m">4</span> install
$ <span class="nb">export</span> <span class="nv">HICN_ROOT</span><span class="o">=</span><span class="si">${</span><span class="nv">PWD</span><span class="si">}</span>/../hicn-install
</pre></div>
</div>
<p>Make sure vpp is running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo systemctl restart vpp
</pre></div>
</div>
<p>Run the hicn-plugin:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vppctl hicn control start
</pre></div>
</div>
<p>Run hiperf server:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hiperf -S b001::/64
</pre></div>
</div>
<p>Run hiperf client:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>hiperf -C b001::1 -W <span class="m">300</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="apps.html" class="btn btn-neutral float-right" title="Applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="telemetry.html" class="btn btn-neutral float-left" title="Telemetry" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright (c) 2017-2020 Cisco and/or its affiliates.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>