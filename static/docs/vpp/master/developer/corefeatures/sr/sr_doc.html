<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SRv6: Segment Routing for IPv6 &mdash; The Vector Packet Processor v22.02-rc0-128-g4450b03ba
 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/rules.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="SR LocalSIDs" href="sr_localsid.html" />
    <link rel="prev" title="Segment routing" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> The Vector Packet Processor
            <img src="../../../_static/fd-io_red_white.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                v22.02-rc0-128-g4450b03ba

              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About VPP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/scalar-vs-vector-packet-processing.html">Scalar vs Vector packet processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/extensible.html">The Packet Processing Graph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/networkstack.html">Network Stack Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/hoststack.html">Host Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/developer.html">Additional features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/supported.html">Supported archs and OS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/performance.html">Performance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/releasenotes/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../aboutvpp/featurelist.html">VPP Supported Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use Cases</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/containers/index.html">VPP with Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/simpleperf/index.html">VPP with Iperf3 and TRex</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/vppcloud/index.html">VPP in the Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/vhost/index.html">VPP with Virtual Machines</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/vmxnet3.html">VPP with VMware/Vmxnet3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/home_gateway.html">VPP as a Home Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/acls.html">Access Control Lists with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/networksim.html">Generating traffic with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/webapp.html">Web applications with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/container_test.html">Simulating networks with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/trafficgen.html">Stateless Traffic Gen with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/ikev2/index.html">IKEv2 with VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../usecases/contiv/index.html">VPP in kubernetes (Contiv/Deprecated)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../gettingstarted/installing/index.html">Downloading and Installing VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gettingstarted/running/index.html">Running VPP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gettingstarted/progressivevpp/index.html">Progressive VPP Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../gettingstarted/troubleshooting/index.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../build-run-debug/index.html">Build, Run &amp; Debug</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../corearchitecture/index.html">Core Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Core Features</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../fib/index.html">The FIB</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Segment routing</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">SRv6: Segment Routing for IPv6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#segment-routing">Segment Routing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#segment-routing-terminology">Segment Routing terminology</a></li>
<li class="toctree-l4"><a class="reference internal" href="#srv6-features-in-vpp">SRv6 Features in VPP</a></li>
<li class="toctree-l4"><a class="reference internal" href="#srv6-localsid-development-framework">SRv6 LocalSID development framework</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sr_localsid.html">SR LocalSIDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="sr_mpls.html">SR-MPLS: Segment Routing for MPLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="sr_policy.html">Creating a SR Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="sr_steering.html">Steering packets into a SR Policy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../punt.html">Punting Packets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ipsec.html">IPSec (IP Security)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bfd_doc.html">BFD module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ipfix_doc.html">IPFIX support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../span_doc.html">Switched Port Analyzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mtu.html">MTU in VPP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sylog_doc.html">Syslog protocol support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../eventviewer.html">Event-logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../stats.html">Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../selinux_doc.html">SELinux - VPP Custom SELinux Policy</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../plugindoc/index.html">Adding a new plugin or feature</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../devicedrivers/index.html">Device drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tests/overview.html">VPP Test Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extras/index.html">VPP extra tools</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Interfacing with VPP</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../interfacing/binapi/index.html">The binary API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interfacing/c/index.html">C api client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interfacing/cpp/index.html">C++ api client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interfacing/go/index.html">Go api (govpp)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interfacing/rust/index.html">Rust api client</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interfacing/libmemif/index.html">Memif library (libmemif)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/gitreview.html">Getting a Patch Reviewed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/writingdocs.html">Writing VPP Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contributing/reportingissues/index.html">Reporting Bugs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Debug CLI</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../cli-reference/gettingstarted/index.html">Getting Started with the debug CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli-reference/interface/index.html">Interface Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cli-reference/index.html">Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration file</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/config_getting_started.html">Getting started with the configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../configuration/reference.html">Configuration Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">The Vector Packet Processor</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../index.html">Core Features</a> &raquo;</li>
          <li><a href="index.html">Segment routing</a> &raquo;</li>
      <li>SRv6: Segment Routing for IPv6</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/developer/corefeatures/sr/sr_doc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="srv6-segment-routing-for-ipv6">
<span id="srv6-doc"></span><h1>SRv6: Segment Routing for IPv6<a class="headerlink" href="#srv6-segment-routing-for-ipv6" title="Permalink to this headline"></a></h1>
<p>This is a memo intended to contain documentation of the VPP SRv6
implementation. Everything that is not directly obvious should come
here. For any feedback on content that should be explained please
<a class="reference external" href="mailto:pcamaril&#37;&#52;&#48;cisco&#46;com">mailto:pcamaril<span>&#64;</span>cisco<span>&#46;</span>com</a></p>
<section id="segment-routing">
<h2>Segment Routing<a class="headerlink" href="#segment-routing" title="Permalink to this headline"></a></h2>
<p>Segment routing is a network technology focused on addressing the
limitations of existing IP and Multiprotocol Label Switching (MPLS)
networks in terms of simplicity, scale, and ease of operation. It is a
foundation for application engineered routing as it prepares the
networks for new business models where applications can control the
network behavior.</p>
<p>Segment routing seeks the right balance between distributed intelligence
and centralized optimization and programming. It was built for the
software-defined networking (SDN) era.</p>
<p>Segment routing enhances packet forwarding behavior by enabling a
network to transport unicast packets through a specific forwarding path,
different from the normal path that a packet usually takes (IGP shortest
path or BGP best path). This capability benefits many use cases, and one
can build those specific paths based on application requirements.</p>
<p>Segment routing uses the source routing paradigm. A node, usually a
router but also a switch, a trusted server, or a virtual forwarder
running on a hypervisor, steers a packet through an ordered list of
instructions, called segments. A segment can represent any instruction,
topological or service-based. A segment can have a local semantic to a
segment-routing node or global within a segment-routing network. Segment
routing allows an operator to enforce a flow through any topological
path and service chain while maintaining per-flow state only at the
ingress node to the segment-routing network. Segment routing also
supports equal-cost multipath (ECMP) by design.</p>
<p>Segment routing can operate with either an MPLS or an IPv6 data plane.
All the currently available MPLS services, such as Layer 3 VPN (L3VPN),
L2VPN (Virtual Private Wire Service [VPWS], Virtual Private LAN Services
[VPLS], Ethernet VPN [E-VPN], and Provider Backbone Bridging Ethernet
VPN [PBB-EVPN]), can run on top of a segment-routing transport network.</p>
<p><strong>The implementation of Segment Routing in VPP covers both the IPv6 data
plane (SRv6) as well as the MPLS data plane (SR-MPLS). This page
contains the SRv6 documentation.</strong></p>
</section>
<section id="segment-routing-terminology">
<h2>Segment Routing terminology<a class="headerlink" href="#segment-routing-terminology" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Segment Routing Header (SRH): IPv6 routing extension header of type
‘Segment Routing’. (draft-ietf-6man-segment-routing-header-05)</p></li>
<li><p>SegmentID (SID): is an IPv6 address.</p></li>
<li><p>Segment List (SL) (SID List): is the sequence of SIDs that the packet
will traverse.</p></li>
<li><p>SR Policy: defines the SRH that will be applied to a packet. A packet
steered into an SR policy may either receive the SRH by IPv6 header
encapsulation (as recommended in draft-ietf-6man-rfc2460bis) or it
could be inserted within an existing IPv6 header. An SR policy is
uniquely identified by its Binding SID and associated with a weighted
set of Segment Lists. In case several SID lists are defined, traffic
steered into the policy is unevenly load-balanced among them
according to their respective weights.</p></li>
<li><p>Local SID: is a SID associated with a processing function on the
local node, which may go from advancing to the next SID in the SRH,
to complex user-defined behaviors. When a FIB lookup, either in the
main FIB or in a specific VRF, returns a match on a local SID, the
associated function is performed.</p></li>
<li><p>BindingSID: a BindingSID is a SID (only one) associated one-one with
an SR Policy. If a packet arrives with an IPv6 DA corresponding to a
BindingSID, then the SR policy will be applied to such packet.</p></li>
</ul>
</section>
<section id="srv6-features-in-vpp">
<h2>SRv6 Features in VPP<a class="headerlink" href="#srv6-features-in-vpp" title="Permalink to this headline"></a></h2>
<p>The SRv6 Network Programming
(<em>draft-filsfils-spring-srv6-network-programming</em>) defines the SRv6
architecture.</p>
<p>VPP supports the following SRv6 LocalSID functions: End, End.X, End.DX6,
End.DT6, End.DX4, End.DT4, End.DX2, End.B6, End.B6.Encaps.</p>
<p>For further information and how to configure each specific function:
<a class="reference internal" href="sr_localsid.html#srv6-localsid-doc"><span class="std std-ref">SR LocalSIDs</span></a></p>
<p>The Segment Routing Policy
(<em>draft-filsfils-spring-segment-routing-policy</em>) defines SR Policies.</p>
<p>VPP supports SRv6 Policies with T.Insert and T.Encaps behaviors.</p>
<p>For further information on how to create SR Policies: <a class="reference internal" href="sr_policy.html#srv6-policy-doc"><span class="std std-ref">Creating a SR Policy</span></a></p>
<p>For further information on how to steer traffic into SR Policies:
<a class="reference internal" href="sr_steering.html#srv6-steering-doc"><span class="std std-ref">Steering packets into a SR Policy</span></a></p>
</section>
<section id="srv6-localsid-development-framework">
<h2>SRv6 LocalSID development framework<a class="headerlink" href="#srv6-localsid-development-framework" title="Permalink to this headline"></a></h2>
<p>One of the <em>‘key’</em> concepts about SRv6 is network programmability. This
is why an SRv6 LocalSID is associated with an specific function.</p>
<p>However, the true way to enable network programmability is allowing
any developer <strong>easily</strong> create his own SRv6 LocalSID function. That is
the reason why we have added some API calls such that any developer can
code his own SRv6 LocalSID behaviors as plugins an add them to the
running SRv6 code.</p>
<p>The principle is that the developer only codes the behavior -the graph
node-. However all the FIB handling, SR LocalSID instantiation and so on
are done by the VPP SRv6 code.</p>
<p>For more information please refer to: <a class="reference internal" href="../../plugins/srv6/srv6_sample_localsid_doc.html#srv6-plugin-doc"><span class="std std-ref">Sample SRv6 LocalSID documentation</span></a></p>
<p>Available SRv6 plugins include:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../plugins/srv6/as_plugin_doc.html#srv6-as-plugin-doc"><span class="std std-ref">SRv6 static proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../plugins/srv6/ad_plugin_doc.html#srv6-ad-plugin-doc"><span class="std std-ref">SRv6 dynamic proxy</span></a></p></li>
<li><p><a class="reference internal" href="../../plugins/srv6/am_plugin_doc.html#srv6-am-plugin-doc"><span class="std std-ref">SRv6 masquerading</span></a></p></li>
<li><p><a class="reference internal" href="../../plugins/srv6/mobile_plugin_doc.html#srv6-mobile-plugin-doc"><span class="std std-ref">SRv6 Mobile User Plane</span></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Segment routing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="sr_localsid.html" class="btn btn-neutral float-right" title="SR LocalSIDs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018-2021, Linux Foundation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>